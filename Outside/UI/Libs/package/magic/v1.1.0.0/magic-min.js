if(typeof magic!="function")var magic=function(){};magic.resourcePath="",magic.skinName="default",magic.version="1.1.0.0",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0);var T,baidu=T=baidu||function(a,b){return baidu.dom?baidu.dom(a,b):null};baidu.version="2.0.2.0",baidu.guid="$BAIDU$",baidu.key="tangram_guid";var _=window[baidu.guid]=window[baidu.guid]||{};(_.versions||(_.versions=[])).push(baidu.version),baidu.check=baidu.check||function(){},baidu.lang=baidu.lang||{},baidu.forEach=function(a,b,c){var d,e,f;if(typeof b=="function"&&a){e=typeof a.length=="number"?a.length:a.byteLength;if(typeof e=="number"){if(Object.prototype.toString.call(a)==="[object Function]")return a;for(d=0;d<e;d++)f=a[d]||a.charAt&&a.charAt(d),b.call(c||null,f,d,a)}else if(typeof a=="number")for(d=0;d<a;d++)b.call(c||null,d,d,d);else if(typeof a=="object")for(d in a)a.hasOwnProperty(d)&&b.call(c||null,a[d],d,a)}return a},baidu.type=function(){var a={},b=[,"HTMLElement","Attribute","Text",,,,,"Comment","Document",,"DocumentFragment"],c="Array Boolean Date Error Function Number RegExp String",d={object:1,"function":"1"},e=a.toString;return baidu.forEach(c.split(" "),function(b){a["[object "+b+"]"]=b.toLowerCase(),baidu["is"+b]=function(a){return baidu.type(a)==b.toLowerCase()}}),function(c){var f=typeof c;return d[f]?c==null?"null":c._type_||a[e.call(c)]||b[c.nodeType]||(c==c.window?"Window":"")||"object":f}}(),baidu.isDate=function(a){return baidu.type(a)=="date"&&a.toString()!="Invalid Date"&&!isNaN(a)},baidu.isElement=function(a){return baidu.type(a)=="HTMLElement"},baidu.isEnumerable=function(a){return a!=null&&(typeof a=="object"||~Object.prototype.toString.call(a).indexOf("NodeList"))&&(typeof a.length=="number"||typeof a.byteLength=="number"||typeof a[0]!="undefined")},baidu.isNumber=function(a){return baidu.type(a)=="number"&&isFinite(a)},baidu.isPlainObject=function(a){var b,c=Object.prototype.hasOwnProperty;if(baidu.type(a)!="object")return!1;if(a.constructor&&!c.call(a,"constructor")&&!c.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(b in a);return b===undefined||c.call(a,b)},baidu.isObject=function(a){return typeof a=="function"||typeof a=="object"&&a!=null},baidu.global=baidu.global||function(){var a=baidu._global_=window[baidu.guid],b=a._=a._||{};return function(a,c,d){return typeof c!="undefined"?(d||(c=typeof b[a]=="undefined"?c:b[a]),b[a]=c):a&&typeof b[a]=="undefined"&&(b[a]={}),b[a]}}(),baidu.extend=function(a,b){var c,d,e,f,g,h=1,i=arguments.length,j=a||{},k,l;baidu.isBoolean(a)&&(h=2)&&(j=b||{}),!baidu.isObject(j)&&(j={});for(;h<i;h++){d=arguments[h];if(baidu.isObject(d))for(e in d){f=j[e],g=d[e];if(f===g)continue;baidu.isBoolean(a)&&a&&g&&(baidu.isPlainObject(g)||(k=baidu.isArray(g)))?(k?(k=!1,l=f&&baidu.isArray(f)?f:[]):l=f&&baidu.isPlainObject(f)?f:{},j[e]=baidu.extend(a,l,g)):g!==undefined&&(j[e]=g)}}return j},baidu.browser=baidu.browser||function(){var a=navigator.userAgent,b={isStrict:document.compatMode=="CSS1Compat",isGecko:/gecko/i.test(a)&&!/like gecko/i.test(a),isWebkit:/webkit/i.test(a)};try{/(\d+\.\d+)/.test(external.max_version)&&(b.maxthon=+RegExp.$1)}catch(c){}switch(!0){case/msie (\d+\.\d+)/i.test(a):b.ie=document.documentMode||+RegExp.$1;break;case/chrome\/(\d+\.\d+)/i.test(a):b.chrome=+RegExp.$1;break;case/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a):b.safari=+(RegExp.$1||RegExp.$2);break;case/firefox\/(\d+\.\d+)/i.test(a):b.firefox=+RegExp.$1;break;case/opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(a):b.opera=+(RegExp.$4||RegExp.$1)}return baidu.extend(baidu,b),b}(),baidu.id=function(){var a=baidu.global("_maps_id"),b=baidu.key;return window[baidu.guid]._counter=window[baidu.guid]._counter||1,function(c,d){var e,f=baidu.isString(c),g=baidu.isObject(c),h=g?c[b]:f?c:"";if(baidu.isString(d))switch(d){case"get":return g?h:a[h];case"remove":case"delete":if(e=a[h])baidu.isElement(e)&&baidu.browser.ie<8?e.removeAttribute(b):delete e[b],delete a[h];return h;default:return f?((e=a[h])&&delete a[h],e&&(a[e[b]=d]=e)):g&&(h&&delete a[h],a[c[b]=d]=c),d}return g?(!h&&(a[c[b]=h=baidu.id()]=c),h):f?a[c]:"TANGRAM_"+baidu._global_._counter++}}(),baidu.createChain=function(a,b,c){var d=a=="dom"?"$DOM":"$"+a.charAt(0).toUpperCase()+a.substr(1),e=Array.prototype.slice,f=baidu[a]=baidu[a]||b||function(b){return baidu.extend(b,baidu[a].fn)};return f.extend=function(b){var c;for(c in b)c!="splice"&&(f[c]=function(){var b=arguments[0];a=="dom"&&baidu.type(b)=="string"&&(b="#"+b);var d=f(b),g=d[c].apply(d,e.call(arguments,1));return baidu.type(g)=="$DOM"?g.get(0):g});return baidu.extend(baidu[a].fn,b)},baidu[a][d]=baidu[a][d]||c||function(){},f.fn=baidu[a][d].prototype,f},baidu.overwrite=function(a,b,c){for(var d=b.length-1;d>-1;d--)a.prototype[b[d]]=c(b[d]);return a},baidu.createChain("event",function(){var a={};return function(b,c){switch(baidu.type(b)){case"object":return a.originalEvent===b?a:a=new baidu.event.$Event(b);case"$Event":return b}}}(),function(a){var b,c,d,e=this;this._type_="$Event";if(typeof a=="object"&&a.type){e.originalEvent=b=a;for(var f in b)typeof b[f]!="function"&&(e[f]=b[f]);b.extraData&&baidu.extend(e,b.extraData),e.target=e.srcElement=b.srcElement||(c=b.target)&&(c.nodeType==3?c.parentNode:c),e.relatedTarget=b.relatedTarget||(c=b.fromElement)&&(c===e.target?b.toElement:c),e.keyCode=e.which=b.keyCode||b.which,!e.which&&b.button!==undefined&&(e.which=b.button&1?1:b.button&2?3:b.button&4?2:0);var g=document.documentElement,h=document.body;e.pageX=b.pageX||b.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&h.clientLeft||0),e.pageY=b.pageY||b.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&h.clientTop||0),e.data}this.timeStamp=(new Date).getTime()}).extend({stopPropagation:function(){var a=this.originalEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)},preventDefault:function(){var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}),baidu.merge=function(a,b){var c=a.length,d=0;if(typeof b.length=="number")for(var e=b.length;d<e;d++)a[c++]=b[d];else while(b[d]!==undefined)a[c++]=b[d++];return a.length=c,a},baidu.createChain("array",function(a){var b=baidu.array.$Array.prototype,c=Array.prototype,d;baidu.type(a)!="array"&&(a=[]);for(d in b)a[d]=b[d];return a}),baidu.overwrite(baidu.array.$Array,"concat slice".split(" "),function(a){return function(){return baidu.array(Array.prototype[a].apply(this,arguments))}}),baidu.array.extend({unique:function(a){var b=this.length,c=this.slice(0),d,e;"function"!=typeof a&&(a=function(a,b){return a===b});while(--b>0){e=c[b],d=b;while(d--)if(a(e,c[d])){c.splice(b,1);break}}b=this.length=c.length;for(d=0;d<b;d++)this[d]=c[d];return this}}),baidu.query=baidu.query||function(){function i(b,f){var g,h,i,j,k,l,m,n,o=[];return a.test(b)?(i=RegExp.$2,k=RegExp.$1||"*",baidu.forEach(f.getElementsByTagName(k),function(a){a.id==i&&o.push(a)})):c.test(b)||b=="*"?baidu.merge(o,f.getElementsByTagName(b)):d.test(b)?(m=[],k=RegExp.$1,l=RegExp.$2,g=" "+l+" ",f.getElementsByClassName?m=f.getElementsByClassName(l):baidu.forEach(f.getElementsByTagName("*"),function(a){a.className&&~(" "+a.className+" ").indexOf(g)&&m.push(a)}),k&&(k=k.toUpperCase())?baidu.forEach(m,function(a){a.tagName.toUpperCase()===k&&o.push(a)}):baidu.merge(o,m)):e.test(b)&&(n=b.substr(1).split("."),baidu.forEach(f.getElementsByTagName("*"),function(a){a.className&&(g=" "+a.className+" ",h=!0,baidu.forEach(n,function(a){~g.indexOf(" "+a+" ")||(h=!1)}),h&&o.push(a))})),o}function j(a,c){var d,e=a,f="__tangram__",g=[];return!c&&b.test(e)&&(d=document.getElementById(e.substr(1)))?[d]:(c=c||document,c.querySelectorAll?(c.nodeType==1&&!c.id?(c.id=f,d=c.querySelectorAll("#"+f+" "+e),c.id=""):d=c.querySelectorAll(e),d):~e.indexOf(" ")?(baidu.forEach(i(e.substr(0,e.indexOf(" ")),c),function(a){baidu.merge(g,j(e.substr(e.indexOf(" ")+1),a))}),g):i(e,c))}var a=/^(\w*)#([\w\-\$]+)$/,b=/^#([\w\-\$]+)$/,c=/^\w+$/,d=/^(\w*)\.([\w\-\$]+)$/,e=/^(\.[\w\-\$]+)+$/,f=/\s*,\s*/,g=/\s+/g,h=Array.prototype.slice;return function(a,b,c){if(!a||typeof a!="string")return c||[];var d=[];return a=a.replace(g," "),c&&baidu.merge(d,c)&&(c.length=0),baidu.forEach(a.indexOf(",")>0?a.split(f):[a],function(a){baidu.merge(d,j(a,b))}),baidu.merge(c||[],baidu.array(d).unique())}}(),baidu.createChain("dom",function(a,b){var c,d=new baidu.dom.$DOM(b);if(!a)return d;if(a._type_=="$DOM")return a;if(a.nodeType||a==a.window)return d[0]=a,d.length=1,d;if(a.length&&d.toString.call(a)!="[object String]")return baidu.merge(d,a);if(typeof a=="string")if(a.charAt(0)=="<"&&a.charAt(a.length-1)==">"&&a.length>2){var e=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,f=b&&b._type_==="$DOM"?b[0]:b,g=e.exec(a);f=f&&f.nodeType?f.ownerDocument||f:document,g=g?[f.createElement(g[1])]:baidu.dom.createElements?baidu.dom.createElements(a):[],baidu.merge(d,g)}else baidu.query(a,b,d);else if(typeof a=="function")return d.ready?d.ready(a):d;return d},function(a){this.length=0,this._type_="$DOM",this.context=a||document}).extend({size:function(){return this.length},splice:function(){},get:function(a){return typeof a=="number"?a<0?this[this.length+a]:this[a]:Array.prototype.slice.call(this,0)},toArray:function(){return this.get()}}),baidu.dom.extend({each:function(a){baidu.check("function","baidu.dom.each");var b,c,d=this.length;for(b=0;b<d;b++){c=a.call(this[b],b,this[b],this);if(c===!1||c=="break")break}return this}}),baidu._util_=baidu._util_||{},baidu._util_.eventBase=baidu._util_.eventBase||{},void function(a,b){if(a.listener)return;b=a.listener={},window.addEventListener?b.add=function(a,b,c){a.addEventListener(b,c,!1)}:window.attachEvent&&(b.add=function(a,b,c){a.attachEvent("on"+b,c)})}(baidu._util_.eventBase),void function(a,b){if(a.queue)return;var c=baidu.id,d=a.queue={},e=d.attaCache=baidu.global("eventQueueCache"),f=a.listener;d.get=function(a,b,d,f){var g=c(a),h;return e[g]||(e[g]={}),h=e[g],b?(!h[b]&&d&&this.setupCall(a,b,d,h[b]=[],f),h[b]||[]):h},d.add=function(a,b,c,d,e){this.get(a,b,c,e).push(d)},d.remove=function(a,b,c){var d,e;if(b){var d=this.get(a,b);if(c)for(var f=d.length-1;f>=0;f--)d[f].orig==c&&d.splice(f,1);else d.length=0}else{var e=this.get(a);for(var f in e)e[f].length=0}},d.call=function(a,b,c,d){if(c){if(!c.length)return;var e=[].slice.call(arguments,1),f=[];e.unshift(d=baidu.event(d||b)),d.type=b,d.currentTarget||(d.currentTarget=a),d.target||(d.target=a);for(var g=0,h,i=c.length;g<i;g++)if(h=c[g])h.pkg.apply(a,e),h.one&&f.unshift(g);if(f.length)for(var g=0,i=f.length;g<i;g++)this.remove(a,b,c[g].fn)}else c=this.get(a,b),this.call(a,b,c,d)},d.setupCall=function(){var a=function(a,b,c,e){f.add(a,c,function(c){d.call(a,b,e,c)})};return function(b,c,d,e,f){if(!f)a(b,c,d,e);else{b=baidu.dom(f,b);for(var g=0,h=b.length;g<h;g++)a(b[g],c,d,e)}}}()}(baidu._util_.eventBase,baidu.event),void function(a,b){if(a.core)return;var c=a.queue,d=a.core={},e=b.special={},f=[].push,g=function(a,b){for(var c=0,d=b.length;c<d;c++)if(b.get(c).contains(a))return b[c]};d.build=function(a,b,c,d,h){var i;return d&&(i=baidu.dom(d,a)),b in e&&e[b].pack&&(c=e[b].pack(c)),function(b){var e=baidu.dom(b.target),j=[b],k;h&&!b.data&&(b.data=h),b.triggerData&&f.apply(j,b.triggerData);if(!i)return b.result=c.apply(a,j);for(var l=0;l<2;l++){if(k=g(b.target,i))return b.result=c.apply(k,j);i=baidu.dom(d,a)}}},d.add=function(a,b,d,f,g,h){var i=this.build(a,b,d,f,g),j,k;k=b,b in e&&(j=e[b].attachElements,k=e[b].bindType||b),c.add(a,b,k,{type:b,pkg:i,orig:d,one:h},j)},d.remove=function(a,b,d,e){c.remove(a,b,d,e)}}(baidu._util_.eventBase,baidu.event),baidu.dom.extend({on:function(a,b,c,d,e){var f=baidu._util_.eventBase.core;return typeof b=="object"&&b?(d=c,c=b,b=null):typeof c=="function"?(d=c,c=null):typeof b=="function"&&(d=b,b=c=null),typeof a=="string"?(a=a.split(/[ ,]+/),this.each(function(){baidu.forEach(a,function(a){f.add(this,a,d,b,c,e)},this)})):typeof a=="object"&&(d&&(d=null),baidu.forEach(a,function(a,d){this.on(d,b,c,a,e)},this)),this}}),baidu.dom.g=function(a){return a?"string"==typeof a||a instanceof String?document.getElementById(a):!a.nodeName||a.nodeType!=1&&a.nodeType!=9?null:a:null},baidu.event.on=baidu.on=function(a,b,c){return typeof a=="string"&&(a=baidu.dom.g(a)),baidu.dom(a).on(b.replace(/^\s*on/,""),c),a},function(){function a(a,c){var d=a.getAttribute(c),e,f=!1;if(d&&(e=d.match(b[0]))){f={};for(var g=0,h;g<e.length;g++)h=e[g].match(b[1]),!isNaN(h[2])&&(h[2]=+h[2]),b[2].test(h[2])&&(h[2]=h[2].replace(b[3],"$2")),b[4].test(h[2])&&(h[2]=b[5].test(h[2])),f[h[1]]=h[2]}return f}function c(b,c){var d=a(b,"tang-event");if(d)for(var e in d){var f=d[e].substr(1);f.indexOf("(")<0&&(f+="()"),baidu.dom(b).on(e,new Function("baiduInstance('"+c+"') && baiduInstance('"+c+"')"+f))}}magic.setup=magic.setup||function(b,d,e){var f=a(b,"tang-param")||{};for(var g in e)f[g]=e[g];var h=new d(f);h.$mappingDom("",b),c(b,h.guid);var i=b.getElementsByTagName("*");for(var g=i.length-1;g>=0;g--)c(i[g],h.guid);return h};var b=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}(),baidu.array.extend({indexOf:function(a,b){baidu.check(".+(,number)?","baidu.array.indexOf");var c=this.length;(b|=0)<0&&(b=Math.max(0,c+b));for(;b<c;b++)if(b in this&&this[b]===a)return b;return-1}}),baidu.array.extend({contains:function(a){return!!~this.indexOf(a)}}),baidu.createChain("string",function(a){var b=baidu.type(a),c=new String(~"string|number".indexOf(b)?a:b),d=String.prototype;return baidu.forEach(baidu.string.$String.prototype,function(a,b){d[b]||(c[b]=a)}),c}),baidu.string.extend({trim:function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return function(){return this.replace(a,"")}}()}),baidu.dom.extend({addClass:function(a){if(!arguments.length)return this;var b=typeof a,c=" ";if(b=="string"){a=baidu.string.trim(a);var d=a.split(" ");baidu.forEach(this,function(a,b){var e=a.className;for(var f=0;f<d.length;f++)~(c+e+c).indexOf(c+d[f]+c)||(e+=" "+d[f]);a.className=e.replace(/^\s+/g,"")})}else b=="function"&&baidu.forEach(this,function(b,c){baidu.dom(b).addClass(a.call(b,c,b.className))});return this}}),baidu.dom.extend({removeClass:function(a){var b=typeof a,c=" ";arguments.length||baidu.forEach(this,function(a){a.className=""});if(b=="string"){a=baidu.string.trim(a);var d=a.split(" ");baidu.forEach(this,function(a){var b=a.className;for(var e=0;e<d.length;e++)while(~(c+b+c).indexOf(c+d[e]+c))b=(c+b+c).replace(c+d[e]+c,c);a.className=baidu.string.trim(b)})}else b=="function"&&baidu.forEach(this,function(b,c,d){baidu.dom(b).removeClass(a.call(b,c,b.className))});return this}}),baidu._util_.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){if(a===b)return!1;if(a.contains&&b.contains)return a.contains(b);while(b=b.parentNode)if(b===a)return!0;return!1},baidu.dom.extend({contains:function(a){var b=this[0];return a=baidu.dom(a)[0],!b||!a?!1:baidu._util_.contains(b,a)}}),baidu.dom._g=function(a){return baidu.type(a)==="string"?document.getElementById(a):a},baidu.dom.contains=function(a,b){var c=baidu.dom._g;return baidu._util_.contains(c(a),c(b))},baidu._util_.access=function(a,b,c,d,e){if(a.size()<=0)return a;switch(baidu.type(b)){case"string":if(c===undefined)return d.call(a,a[0],b);a.each(function(f,g){d.call(a,g,b,baidu.type(c)==="function"?c.call(g,f,d.call(a,g,b)):c,e)});break;case"object":for(var f in b)baidu._util_.access(a,f,b[f],d,c)}return a},baidu._util_.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},baidu._util_.propFixer={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",classname:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable",rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i},!document.createElement("form").enctype&&(baidu._util_.propFixer.enctype="encoding"),baidu._util_.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1},baidu._util_.prop=function(){var a=/^(?:button|input|object|select|textarea)$/i,b=/^a(?:rea|)$/i,c=document.createElement("select"),d=c.appendChild(document.createElement("option")),e={tabIndex:{get:function(c){var d=c.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):a.test(c.nodeName)||b.test(c.nodeName)&&c.href?0:undefined}}};return!d.selected&&(e.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),c=d=null,function(a,b,c){var d=a.nodeType,f,g;if(!a||~"238".indexOf(d))return;if(d!==1||!baidu._util_.isXML(a))b=baidu._util_.propFixer[b]||b,f=e[b]||{};return c!==undefined?f.set&&(g=f.set(a,b,c))!==undefined?g:a[b]=c:f.get&&(g=f.get(a,b))!==null?g:a[b]}}(),baidu._util_.support=baidu._util_.support||function(){var a=document.createElement("div"),b,c,d,e,f;return a.setAttribute("className","t"),a.innerHTML=' <link/><table></table><a href="/a">a</a><input type="checkbox"/>',c=a.getElementsByTagName("A")[0],c.style.cssText="top:1px;float:left;opacity:.5",e=document.createElement("select"),f=e.appendChild(document.createElement("option")),d=a.getElementsByTagName("input")[0],d.checked=!0,b={dom:{div:a,a:c,select:e,opt:f,input:d}},b}(),baidu._util_.support.getSetAttribute=baidu._util_.support.dom.div.className!=="t",baidu._util_.nodeHook=function(){if(baidu._util_.support.getSetAttribute)return;var a={};return a.name=a.id=a.coords=!0,{get:function(b,c){var d=b.getAttributeNode(c);return d&&(a[c]?d.value!=="":d.specified)?d.value:undefined},set:function(a,b,c){var d=a.getAttributeNode(b);return d||(d=document.createAttribute(b),a.setAttributeNode(d)),d.value=c+""}}}(),baidu._util_.removeAttr=function(){var a=baidu._util_.propFixer,b=/\s+/,c=baidu._util_.support.getSetAttribute;return function(d,e){if(!e||d.nodeType!==1)return;var f=e.split(b),g,h;for(var i=0,j;j=f[i];i++)g=a[j]||j,h=a.rboolean.test(j),!h&&baidu._util_.attr(d,j,""),d.removeAttribute(c?j:g),h&&g in d&&(d[g]=!1)}}(),baidu._util_.attr=function(){var a=baidu._util_,b=/^(?:button|input)$/i,c=a.support.dom,d=c.input.value==="t",e=c.a.getAttribute("href")==="/a",f=/top/.test(c.a.getAttribute("style")),g=a.nodeHook,h={className:"class"},i={get:function(b,c){var d=a.prop(b,c),e;return d===!0||typeof d!="boolean"&&(e=b.getAttributeNode(c))&&e.nodeValue!==!1?c.toLowerCase():undefined},set:function(b,c,d){if(d===!1)a.removeAttr(b,c);else{var e=a.propFixer[c]||c;e in b&&(b[e]=!0),b.setAttribute(c,c.toLowerCase())}return c}},j={type:{set:function(c,e,f){if(b.test(c.nodeName)&&c.parentNode)return f;if(!d&&f==="radio"&&a.nodeName(c,"input")){var g=c.value;return c.setAttribute("type",f),g&&(c.value=g),f}}},value:{get:function(b,c){return g&&a.nodeName(b,"button")?g.get(b,c):c in b?b.value:null},set:function(b,c,d){if(g&&a.nodeName(b,"button"))return g.set(b,c,d);b.value=d}}};return a.support.getSetAttribute||(baidu.forEach(["width","height"],function(a){j[a]={set:function(a,b,c){if(c==="")return a.setAttribute(b,"auto"),c}}}),j.contenteditable={get:g.get,set:function(a,b,c){c===""&&(c=!1),g.set(a,b,c)}}),e||baidu.forEach(["href","src","width","height"],function(a){j[a]={get:function(a,b){var c=a.getAttribute(b,2);return c===null?undefined:c}}}),f||(j.style={get:function(a){return a.style.cssText.toLowerCase()||undefined},set:function(a,b,c){return a.style.cssText=c+""}}),function(b,c,d,e){var f=b.nodeType,k=f!==1||!a.isXML(b),l,m;if(!b||~"238".indexOf(f))return;if(e&&baidu.dom.fn[c])return baidu.dom(b)[c](d);k&&(c=h[c]||c.toLowerCase(),l=j[c]||(a.propFixer.rboolean.test(c)?i:g));if(d!==undefined){if(d===null){a.removeAttr(b,c);return}return k&&l&&l.set&&(m=l.set(b,c,d))!==undefined?m:(b.setAttribute(c,d+""),d)}return k&&l&&l.get&&(m=l.get(b,c))!==null?m:(m=b.getAttribute(c),m===null?undefined:m)}}(),baidu.dom.extend({attr:function(a,b){return baidu._util_.access(this,a,b,function(a,b,c,d){return baidu._util_.attr(a,b,c,d)})}}),baidu.dom.extend({getComputedStyle:function(a){if(!this[0].ownerDocument)return;var b=this[0].ownerDocument.defaultView,c=b&&b.getComputedStyle&&b.getComputedStyle(this[0],null),d=c?c.getPropertyValue(a)||c[a]:"";return d||this[0].style[a]}}),baidu.dom.extend({getCurrentStyle:function(){var a=document.documentElement.currentStyle?function(a){return this[0].currentStyle?this[0].currentStyle[a]:this[0].style[a]}:function(a){return this.getComputedStyle(a)};return function(b){return a.call(this,b)}}()}),baidu._util_.getWidthOrHeight=function(){function d(a,b){var c={};for(var d in b)c[d]=a.style[d],a.style[d]=b[d];return c}var a={},b={position:"absolute",visibility:"hidden",display:"block"},c=/^(none|table(?!-c[ea]).+)/;return baidu.forEach(["Width","Height"],function(e){var f={Width:["Right","Left"],Height:["Top","Bottom"]}[e];a["get"+e]=function(a,g){var h=baidu.dom(a),i=a.offsetWidth===0&&c.test(h.getCurrentStyle("display"))&&d(a,b),j=a["offset"+e]||parseInt(h.getCurrentStyle(e.toLowerCase()))||0,k="padding|border";return g&&baidu.forEach(g.split("|"),function(a){~k.indexOf(a)?k=k.replace(new RegExp("\\|?"+a+"\\|?"),""):(j+=parseFloat(h.getCurrentStyle(a+f[0]))||0,j+=parseFloat(h.getCurrentStyle(a+f[1]))||0)}),k&&baidu.forEach(k.split("|"),function(a){j-=parseFloat(h.getCurrentStyle(a+f[0]+(a==="border"?"Width":"")))||0,j-=parseFloat(h.getCurrentStyle(a+f[1]+(a==="border"?"Width":"")))||0}),i&&d(a,i),j}}),function(b,c,d){return a[c==="width"?"getWidth":"getHeight"](b,d)}}(),baidu._util_.getWindowOrDocumentWidthOrHeight=baidu._util_.getWindowOrDocumentWidthOrHeight||function(){var a={window:{},document:{}};return baidu.forEach(["Width","Height"],function(b){var c="client"+b,d="offset"+b,e="scroll"+b;a.window["get"+b]=function(a){var b=a.document,d=b.documentElement[c];return baidu.browser.isStrict&&d||b.body&&b.body[c]||d},a.document["get"+b]=function(a){var b=a.documentElement;return b[c]>=b[e]?b[c]:Math.max(a.body[e],b[e],a.body[d],b[d])}}),function(b,c,d){return a[c][d==="width"?"getWidth":"getHeight"](b)}}(),baidu.dom.extend({width:function(a){return baidu._util_.access(this,"width",a,function(a,b,c){var d=c!==undefined,e=d&&parseFloat(c),f=a!=null&&a==a.window?"window":a.nodeType===9?"document":!1;if(d&&e<0||isNaN(e))return;return d&&/^(?:\d*\.)?\d+$/.test(c+="")&&(c+="px"),f?baidu._util_.getWindowOrDocumentWidthOrHeight(a,f,b):d?a.style.width=c:baidu._util_.getWidthOrHeight(a,b)})}}),baidu.base=baidu.base||{blank:function(){}},baidu.base.Class=function(){var a=(baidu._global_=window[baidu.guid])._instances;return a||(a=baidu._global_._instances={}),function(){this.guid=baidu.id(),this._decontrol_||(a[this.guid]=this)}}(),baidu.extend(baidu.base.Class.prototype,{toString:baidu.base.Class.prototype.toString=function(){return"[object "+(this._type_||"Object")+"]"},dispose:function(){delete baidu._global_._instances[this.guid];if(this._listeners_)for(var a in this._listeners_)this._listeners_[a].length=0,delete this._listeners_[a];for(var b in this)baidu.isFunction(this[b])?this[b]=baidu.base.blank:delete this[b];this.disposed=!0},fire:function(a,b){baidu.isString(a)&&(a=new baidu.base.Event(a));var c,d,e,f,g=this._listeners_,h=a.type,i=[a].concat(Array.prototype.slice.call(arguments,1));!g&&(g=this._listeners_={}),baidu.extend(a,b||{}),a.target=a.target||this,a.currentTarget=this,h.indexOf("on")&&(h="on"+h),baidu.isFunction(this[h])&&this[h].apply(this,i),(c=this._options)&&baidu.isFunction(c[h])&&c[h].apply(this,i);if(baidu.isArray(e=g[h]))for(c=e.length-1;c>-1;c--)f=e[c],f&&f.handler.apply(this,i),f&&f.once&&e.splice(c,1);return a.returnValue},on:function(a,b,c){if(!baidu.isFunction(b))return this;var d,e=this._listeners_;return!e&&(e=this._listeners_={}),a.indexOf("on")&&(a="on"+a),!baidu.isArray(d=e[a])&&(d=e[a]=[]),e[a].unshift({handler:b,once:!!c}),this},once:function(a,b){return this.on(a,b,!0)},one:function(a,b){return this.on(a,b,!0)},off:function(a,b){var c,d,e=this._listeners_;if(!e)return this;if(typeof a=="undefined"){for(c in e)delete e[c];return this}a.indexOf("on")&&(a="on"+a);if(typeof b=="undefined")delete e[a];else if(d=e[a])for(c=d.length-1;c>=0;c--)d[c].handler===b&&d.splice(c,1);return this}}),baidu.base.Class.prototype.addEventListener=baidu.base.Class.prototype.on,baidu.base.Class.prototype.removeEventListener=baidu.base.Class.prototype.un=baidu.base.Class.prototype.off,baidu.base.Class.prototype.dispatchEvent=baidu.base.Class.prototype.fire,window.baiduInstance=function(a){return window[baidu.guid]._instances[a]},baidu.base.Event=function(a,b){this.type=a,this.returnValue=!0,this.target=b||null,this.currentTarget=null,this.preventDefault=function(){this.returnValue=!1}},baidu.lang.Class=baidu.base.Class,baidu.createClass=function(a,b,c){a=baidu.isFunction(a)?a:function(){},c=typeof b=="object"?b:c||{};var d=function(){var b=this;c.decontrolled&&(b._decontrol_=!0),d.superClass.apply(b,arguments);for(var e in d.options)b[e]=d.options[e];a.apply(b,arguments);for(var e=0,f=d._reg_;f&&e<f.length;e++)f[e].apply(b,arguments)};return baidu.extend(d,{superClass:c.superClass||baidu.base.Class,inherits:function(b){if(typeof b!="function")return d;var c=function(){};c.prototype=(d.superClass=b).prototype;var e=d.prototype=new c;return baidu.extend(d.prototype,a.prototype),e.constructor=a,d},register:function(a,b){return(d._reg_||(d._reg_=[])).push(a),b&&baidu.extend(d.prototype,b),d},extend:function(a){return baidu.extend(d.prototype,a),d}}),b=baidu.isString(b)?b:c.className||c.type,baidu.isString(b)&&(a.prototype._type_=b),baidu.isFunction(d.superClass)&&d.inherits(d.superClass),d},baidu.lang.createClass=baidu.createClass,baidu.object=baidu.object||{},baidu.object.extend=baidu.extend,baidu.string.extend({format:function(a){var b=this.valueOf(),c=Array.prototype.slice.call(arguments,0),d=Object.prototype.toString;return c.length?(c=c.length==1?a!==null&&/\[object Array\]|\[object Object\]/.test(d.call(a))?a:c:c,b.replace(/#\{(.+?)\}/g,function(a,b){var e=c[b];return"[object Function]"==d.call(e)&&(e=e(b)),"undefined"==typeof e?"":e})):b}}),baidu.string.extend({encodeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}),baidu.lang.Event=baidu.base.Event,baidu.base.inherits=function(a,b,c){var d,e,f=a.prototype,g=new Function;g.prototype=b.prototype,e=a.prototype=new g;for(d in f)e[d]=f[d];return a.prototype.constructor=a,a.superClass=b.prototype,typeof c=="string"&&(e._type_=c),a.extend=function(b){for(var c in b)e[c]=b[c];return a},a},baidu.lang.inherits=baidu.base.inherits,baidu.lang.isString=baidu.isString,magic.Base=function(){baidu.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},baidu.lang.inherits(magic.Base,baidu.lang.Class,"magic.Base").extend({getElement:function(a){return document.getElementById(this.$getId(a))},getElements:function(){var a={},b=this._ids;for(var c in b)a[c]=this.getElement(c);return a},$getId:function(a){return a=baidu.lang.isString(a)?a:"",this._ids[a]||(this._ids[a]=this._eid+a)},$mappingDom:function(a,b){return baidu.lang.isString(b)?this._ids[a]=b:b&&b.nodeType&&(b.id?this._ids[a]=b.id:b.id=this.$getId(a)),this},$dispose:function(){this.fire("ondispose")&&baidu.lang.Class.prototype.dispose.call(this)}}),magic.control=magic.control||{},baidu.string.extend({toCamelCase:function(){var a=this.valueOf();return a.indexOf("-")<0&&a.indexOf("_")<0?a:a.replace(/[-_][^-_]/g,function(a){return a.charAt(1).toUpperCase()})}}),baidu.dom.styleFixer=function(){var a=/alpha\s*\(\s*opacity\s*=\s*(\d{1,3})/i,b=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,c="fillOpacity,fontWeight,opacity,orphans,widows,zIndex,zoom",d=baidu._util_.support.dom.a,e={"float":d.style.cssFloat?"cssFloat":"styleFloat"},f={fontWeight:{normal:400,bold:700,bolder:700,lighter:100}},g={opacity:{},width:{},height:{},fontWeight:{get:function(a,b){var c=h.get(a,b);return f.fontWeight[c]||c}}},h={set:function(a,b,c){a.style[b]=c}};return baidu.extend(g.opacity,/^0.5/.test(d.style.opacity)?{get:function(a,b){var c=baidu.dom(a).getCurrentStyle(b);return c===""?"1":c}}:{get:function(b){return a.test((b.currentStyle||b.style).filter||"")?parseFloat(RegExp.$1)/100:"1"},set:function(b,c,d){var e=(b.currentStyle||b.style).filter||"",f=d*100;b.style.zoom=1,b.style.filter=a.test(e)?e.replace(a,"Alpha(opacity="+f):e+" progid:dximagetransform.microsoft.Alpha(opacity="+f+")"}}),baidu.forEach(["width","height"],function(a){g[a]={get:function(b){return baidu._util_.getWidthOrHeight(b,a)+"px"},set:function(a,b,c){baidu.type(c)==="number"&&c<0&&(c=0),h.set(a,b,c)}}}),baidu.extend(h,document.documentElement.currentStyle?{get:function(a,c){var d=baidu.dom(a).getCurrentStyle(c),e;return b.test(d)&&(e=a.style.left,a.style.left=c==="fontSize"?"1em":d,d=a.style.pixelLeft+"px",a.style.left=e),d}}:{get:function(a,b){return baidu.dom(a).getCurrentStyle(b)}}),function(a,b,d){var f=baidu.string(b).toCamelCase(),i=d===undefined?"get":"set",j,k;return f=e[f]||f,j=baidu.type(d)==="number"&&!~c.indexOf(f)?d+"px":d,k=g.hasOwnProperty(f)&&g[f][i]||h[i],k(a,f,j)}}(),baidu.dom.extend({css:function(a,b){return baidu.check("^(?:(?:string(?:,(?:number|string|function))?)|object)$","baidu.dom.css"),baidu._util_.access(this,a,b,function(a,b,c){var d=baidu.dom.styleFixer;return d?d(a,b,c):c===undefined?this.getCurrentStyle(b):a.style[b]=c})}}),baidu.dom.extend({height:function(a){return baidu._util_.access(this,"height",a,function(a,b,c){var d=c!==undefined,e=d&&parseFloat(c),f=a!=null&&a==a.window?"window":a.nodeType===9?"document":!1;if(d&&e<0||isNaN(e))return;return d&&/^(?:\d*\.)?\d+$/.test(c+="")&&(c+="px"),f?baidu._util_.getWindowOrDocumentWidthOrHeight(a,f,b):d?a.style.height=c:baidu._util_.getWidthOrHeight(a,b)})}}),magic.control.Layer=baidu.lang.createClass(function(a){this.width="auto",this.height="auto",baidu.object.extend(this,a||{})},{type:"magic.control.Layer",superClass:magic.Base}).extend({show:function(){this.fire("onbeforeshow")&&(this.getElement().style.display="",this.fire("onshow"))},hide:function(){this.fire("onbeforehide")&&(this.getElement().style.display="none",this.fire("onhide"))},setWidth:function(a){this.width=a,baidu(this.getElement()).width(a)},setHeight:function(a){this.height=a,baidu.dom(this.getElement()).height(a)},setSize:function(a){this.setWidth(a.width||a[0]),this.setHeight(a.height||a[1])}}),baidu.dom.extend({off:function(a,b,c){var d=baidu._util_.eventBase.core,e=this;return a?typeof a=="string"?(typeof b=="function"&&(c=b,b=null),a=a.split(/[ ,]/),baidu.forEach(this,function(e){baidu.forEach(a,function(a){d.remove(e,a,c,b)})})):typeof a=="object"&&baidu.forEach(a,function(a,c){e.off(c,b,a)}):baidu.forEach(this,function(a){d.remove(a)}),this}}),baidu.event.un=baidu.un=function(a,b,c){return typeof a=="string"&&(a=baidu.dom.g(a)),baidu.dom(a).off(b.replace(/^\s*on/,""),c),a},baidu.dom.extend({getDocument:function(){if(this.size()<=0)return undefined;var a=this[0];return a.nodeType==9?a:a.ownerDocument||a.document}}),baidu.dom.extend({getWindow:function(){var a=this.getDocument();return this.size()<=0?undefined:a.parentWindow||a.defaultView}}),baidu.dom.extend({map:function(a){baidu.check("function","baidu.dom.map");var b=this,c=baidu.dom();return baidu.forEach(this,function(b,d){c[c.length++]=a.call(b,d,b,b)}),c}}),baidu.dom.extend({offsetParent:function(){return this.map(function(){var a=this.offsetParent||document.body,b=/^(?:body|html)$/i;while(a&&baidu.dom(a).getCurrentStyle("position")==="static"&&!b.test(a.nodeName))a=a.offsetParent;return a})}}),baidu.dom.extend({position:function(){if(this.size()<=0)return 0;var a=/^(?:body|html)$/i,b=this.offset(),c=this.offsetParent(),d=a.test(c[0].nodeName)?{left:0,top:0}:c.offset();return b.left-=parseFloat(this.getCurrentStyle("marginLeft"))||0,b.top-=parseFloat(this.getCurrentStyle("marginTop"))||0,d.left+=parseFloat(c.getCurrentStyle("borderLeftWidth"))||0,d.top+=parseFloat(c.getCurrentStyle("borderTopWidth"))||0,{left:b.left-d.left,top:b.top-d.top}}}),baidu.dom.extend({offset:function(){var a={setOffset:function(a,b,c){var d=d=baidu.dom(a),e=d.getCurrentStyle("position");e==="static"&&(a.style.position="relative");var f=d.offset(),g=d.getCurrentStyle("left"),h=d.getCurrentStyle("top"),i=~"absolute|fixed".indexOf(e)&&~(""+g+h).indexOf("auto"),j=i&&d.position();g=j&&j.left||parseFloat(g)||0,h=j&&j.top||parseFloat(h)||0,baidu.type("options")==="function"&&(b=b.call(a,c,f)),b.left!=undefined&&(a.style.left=b.left-f.left+g+"px"),b.top!=undefined&&
(a.style.top=b.top-f.top+h+"px")},bodyOffset:function(a){var b=baidu.dom(a);return{left:a.offsetLeft+parseFloat(b.getCurrentStyle("marginLeft"))||0,top:a.offsetTop+parseFloat(b.getCurrentStyle("marginTop"))||0}}};return function(b){if(!b){var c=this[0],d=this.getDocument(),e={left:0,top:0},f,g,h;return c===d.body?a.bodyOffset(c,d):(typeof c.getBoundingClientRect!="undefined"&&(e=c.getBoundingClientRect()),f=this.getWindow(),g=d.documentElement,h=d.body,{left:e.left+(f.pageXOffset||Math.max(g.scrollLeft,h.scrollLeft))-(g.clientLeft||h.clientLeft),top:e.top+(f.pageYOffset||Math.max(g.scrollTop,h.scrollTop))-(g.clientTop||h.clientTop)})}baidu.check("^(?:object|function)$","baidu.dom.offset");for(var i=0,j;j=this[i];i++)a.setOffset(j,b,i);return this}}()}),baidu.global.set=function(a,b,c){return baidu.global(a,b,!c)},baidu.global.get=function(a){return baidu.global(a)},baidu.page=baidu.page||{},baidu.page.getViewHeight=function(){var a=document,b=baidu.browser.ie||1,c=a.compatMode==="BackCompat"&&b<9?a.body:a.documentElement;return c.clientHeight},baidu.page.getScrollTop=function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop},magic.control.Popup=baidu.lang.createClass(function(a){var b=this;b.visible=!1,b.autoHide=!0,b.hideOnEscape=!0,b.disposeOnHide=!1,b.smartPosition=!1,b.offsetX=0,b.offsetY=0,baidu.object.extend(this,a||{}),b._parent=null,b._host=null,b._init_control_popup()},{superClass:magic.control.Layer,type:"magic.control.Popup"}).extend({setContent:function(a){this.getElement("content").innerHTML=a},attach:function(a,b){baidu.dom(a).size()&&(baidu.object.extend(this,b||{}),this._host=baidu(a)[0],this.show())},reposition:function(a){var b=this;!a&&b._host&&(a=baidu.dom(b._host).offset());if(a){b.top=a.top+b.offsetY+b._host.offsetHeight,b.left=a.left+b.offsetX,b._resupinate=!1;if(b.smartPosition){var c=b.getElement().offsetHeight,d=baidu.page.getViewHeight(),e=baidu.page.getScrollTop(),f=a.top-b.offsetY-c;b.top+c>e+d&&f>e&&f<e+d&&(b.top=a.top-b.offsetY-c,b._resupinate=!0)}}b.fire("reposition"),b.setPosition([b.left,b.top])},setPosition:function(a){this.setTop(a.top||a[1]),this.setLeft(a.left||a[0])},setTop:function(a){baidu.dom(this.getElement()).css("top",(this.top=a)+"px")},setLeft:function(a){baidu.dom(this.getElement()).css("left",(this.left=a)+"px")},_init_control_popup:function(){function b(){a.reposition()}function c(b){b.keyCode==27&&a.hideOnEscape&&a.autoHide&&a.hide()}function d(){var b=a;do f[b.guid]=!0;while(b=b._parent)}function g(f){a.visible=!1,delete e[a.guid],a._host&&baidu.dom(a._host).off("click",d),baidu.dom(a.getElement()).off("click",d),baidu.dom(window).off("resize",b),baidu.dom(document).off("keyup",c),f&&a.$dispose()}var a=this,e=baidu.global.get("popupList"),f=baidu.global.get("popupProtect");a.on("show",function(){a.reposition(),setTimeout(function(){a.guid&&(e[a.guid]=!0)},1),a._host&&baidu.dom(a._host).on("click",d),baidu.dom(a.getElement()).on("click",d),baidu.dom(window).on("resize",b),baidu.dom(document).on("keyup",c),a.width!="auto"&&a.setWidth(a.width),a.height!="auto"&&a.setHeight(a.height),a.visible=!0}),a.on("hide",function(){g(a.disposeOnHide)}),a.on("dispose",function(){g(!1)})}}),function(){function c(){for(var c in a){var d=baiduInstance(c);!b[c]&&d.autoHide&&d.hide()}for(var c in b)delete b[c]}var a=baidu.global.set("popupList",{},!0),b=baidu.global.set("popupProtect",{},!0);baidu.dom(window).on("resize",c),baidu.dom(window).on("scroll",c),baidu.dom(document).on("click",c)}(),baidu.dom.createElements=function(){function d(a,b){var c=a.getElementsByTagName("SCRIPT"),d,e,f;for(d=c.length-1;d>=0;d--)f=c[d],e=b.createElement("SCRIPT"),f.id&&(e.id=f.id),f.src&&(e.src=f.src),f.type&&(e.type=f.type),e[f.text?"text":"textContent"]=f.text||f.textContent,f.parentNode.replaceChild(e,f)}var a=/<(\w+)/i,b=/<|&#?\w+;/,c={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};return c.optgroup=c.option,c.tbody=c.tfoot=c.colgroup=c.caption=c.thead,c.th=c.td,function(e,f){baidu.isNumber(e)&&(e=e.toString()),f=f||document;var g,h,i,j=e,k=j.length,l=f.createElement("div"),m=f.createDocumentFragment(),n=[];if(baidu.isString(j))if(!b.test(j))n.push(f.createTextNode(j));else{g=c[j.match(a)[1].toLowerCase()]||c._default,l.innerHTML="<i>mz</i>"+g[1]+j+g[2],l.removeChild(l.firstChild),d(l,f),h=g[0],i=l;while(h--)i=i.firstChild;baidu.merge(n,i.childNodes),baidu.forEach(n,function(a){m.appendChild(a)}),l=i=null}return l=null,n}}(),baidu._util_.cleanData=function(a){var b;for(var c=0,d;d=a[c];c++){b=baidu.id(d,"get");if(!b)continue;baidu._util_.eventBase.queue.remove(d),baidu.id(d,"remove")}},baidu.dom.extend({empty:function(){for(var a=0,b;b=this[a];a++){b.nodeType===1&&baidu._util_.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this}}),baidu.dom.extend({append:function(){return baidu.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.append"),baidu._util_.smartInsert(this,arguments,function(a){this.nodeType===1&&this.appendChild(a)}),this}}),baidu.dom.extend({html:function(a){var b=baidu.dom,c=baidu._util_,d=this,e=!1,f=!!c.support.dom.div.getElementsByTagName("link").length,g=c.support.dom.div.firstChild.nodeType===3,h;if(!this.size())switch(typeof a){case"undefined":return undefined;default:return d}var i="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",j=/<(?:script|style|link)/i,k=new RegExp("<(?:"+i+")[\\s/>]","i"),l=/^\s+/,m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,n=/<([\w:]+)/,o={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};return o.optgroup=o.option,o.tbody=o.tfoot=o.colgroup=o.caption=o.thead,o.th=o.td,f||(o._default=[1,"X<div>","</div>"]),baidu.forEach(d,function(c,i){if(h)return;var p=b(c);switch(typeof a){case"undefined":h=c.nodeType===1?c.innerHTML:undefined;return;case"number":a=String(a);case"string":e=!0;if(!j.test(a)&&(f||!k.test(a))&&(g||!l.test(a))&&!o[(n.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(m,"<$1></$2>");try{c.nodeType===1&&(p.empty(),c.innerHTML=a),c=0}catch(q){}}c&&d.empty().append(a);break;case"function":e=!0,p.html(a.call(c,i,p.html()))}}),e?d:h}}),baidu._util_.smartInsert=function(a,b,c){if(b.length<=0||a.size()<=0)return;if(baidu.type(b[0])==="function"){var d=b[0],e;return baidu.forEach(a,function(a,f){e=baidu.dom(a),b[0]=d.call(a,f,e.html()),baidu._util_.smartInsert(e,b,c)})}var f=a.getDocument()||document,g=f.createDocumentFragment(),h=a.length-1,i;for(var j=0,k;k=b[j];j++)k.nodeType?g.appendChild(k):baidu.forEach(~"string|number".indexOf(baidu.type(k))?baidu.dom.createElements(k,f):k,function(a){g.appendChild(a)});if(!(i=g.firstChild))return;baidu.forEach(a,function(a,b){c.call(a.nodeName.toLowerCase()==="table"&&i.nodeName.toLowerCase()==="tr"?a.tBodies[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a,b<h?g.cloneNode(!0):g)})},baidu.dom.extend({prepend:function(){return baidu.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.prepend"),baidu._util_.smartInsert(this,arguments,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)}),this}}),baidu.global.getZIndex=function(a,b){var c=baidu.global.get("zIndex");return a&&(c[a]=c[a]+(b||1)),c[a]},baidu.global.set("zIndex",{popup:5e4,dialog:1e3},!0),baidu.dom.extend({hasClass:function(a){if(arguments.length<=0||typeof a=="function")return this;if(this.size()<=0)return!1;a=a.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var b=a.split(" "),c;return baidu.forEach(this,function(a){var d=a.className;for(var e=0;e<b.length;e++)if(!~(" "+d+" ").indexOf(" "+b[e]+" ")){c=!1;return}if(c!==!1){c=!0;return}}),c}}),magic.Background=baidu.lang.createClass(function(a){var b=a||{},c=this;c.coverable=b.coverable||!1,c.styleBox=b.styleBox,c.tagName="div";var d="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;";c._coverDom="<div style='"+d+"opacity:0;background-color:#FFFFFF'></div>";var e=baidu.browser;e.ie<7&&(c._coverDom="<iframe frameborder='0' style='"+d+"' src='about:blank'></iframe>"),e.ie&&(!e.isStrict||e.ie<8)&&(c.size=[0,0],c.timer=setInterval(function(){c._forIE()},80)),this._innerHTML="<div class='tang-background-inner' style='width:100%;height:100%;' id='"+this.$getId("inner")+"'></div>"},{type:"magic.Background",superClass:magic.Base}).extend({render:function(a){var b=baidu.dom(a).get(0);b!=document.body&&baidu.dom(b).css("position")=="static"&&(b.style.position="relative"),baidu.dom(b).prepend(this.toHTMLString())},$dispose:function(){var a=this.getElement();a.parentNode.removeChild(a),clearInterval(this.timer)},toHTMLString:function(a){return["<",a||this.tagName," class='tang-background",baidu.browser.ie<7?" ie6__":"","' id='",this.$getId(),"' style='position:absolute; top:0px; left:0px;",this.timer?"width:10px;height:10px;":"width:100%;height:100%;","z-index:-9; -webkit-user-select:none; -moz-user-select:none;' ","onselectstart='return false'>",this._innerHTML,this.coverable?this._coverDom||"":"","</",a||this.tagName,">"].join("")},setContent:function(a){this.getElement("inner").innerHTML=a},_forIE:function(){if(this.guid&&this.layer||(this.layer=this.getElement())&&this.layer.offsetHeight){var a=this.layer,b=this.container||a.parentNode;if(b&&b.style){var c=b.style,d=parseInt(c.borderTopWidth)||0,e=parseInt(c.borderRightWidth)||0,f=parseInt(c.borderBottomWidth)||0,g=parseInt(c.borderLeftWidth)||0,h=b.offsetWidth-e-g,i=b.offsetHeight-d-f;if(this.size[0]!=h||this.size[1]!=i)a.style.width=(this.size[0]=h)+"px",a.style.height=(this.size[1]=i)+"px";if(this.styleBox&&this.table||(this.table=this.getElement("table"))){var j,k,l;j=j||parseInt(baidu.dom(this.table.rows[0]).getCurrentStyle("height")),l=l||parseInt(baidu.dom(this.table.rows[2]).getCurrentStyle("height")),this.table.rows[0].style.height=j+"px",this.table.rows[2].style.height=l+"px",this.table.rows[1].style.height=this.layer.offsetHeight-j-l+"px"}}}}}),function(){magic.Popup=function(b){var c=this;magic.control.Popup.call(c,b),c.content="",c.className="",c.styleBox=!1,baidu.object.extend(this,b||{});var d=a.produce();c.$mappingDom("",d.getElement()),c.$mappingDom("content",d.getElement("content")),d.getElement().style.zIndex=baidu.global.getZIndex("popup"),c.setContent(c.content),c.className&&baidu.dom(d.getElement()).addClass(c.className),c.on("dispose",function(){c.className&&baidu.dom(d.getElement()).removeClass(c.className),c.setContent(""),d.busy=!1})},baidu.lang.inherits(magic.Popup,magic.control.Popup,"magic.Popup");var a={list:[],produce:function(){for(var a=0,b=this.list.length;a<b;a++)if(!this.list[a].busy)return this.list[a].busy=!0,this.list[a];var c=new magic.Base;return baidu.dom(document.body).prepend(["<div class='tang-popup' id='",c.$getId(),"' ","style='position:absolute; display:none;'>",(c.background=new magic.Background({coverable:!0})).toHTMLString(),"<div class='tang-foreground' id='",c.$getId("content"),"'></div>","</div>"].join("")),c.busy=!0,this.list.push(c),c}}}(),magic.control.Suggestion=baidu.lang.createClass(function(a){var b=this;baidu.object.extend(this,a||{}),b.dataCache={},b.enableIndexs=[],b.selectedIndex=-1,b.currentQuery="",b.oldInputValue="",b.upDownArrowTimer=null,b.on("onload",function(){function d(){c=setInterval(function(){var c=a.value;!c&&b.isShowing()?b._hide():c!=b.oldInputValue&&(c&&b.fire("onneeddata",c),b.oldInputValue=c)},100)}var a=b.getElement("input"),c=null;baidu.dom(b.getElement("input")).attr("autocomplete","off"),b.oldInputValue=b.getElement("input").value,d();var e=function(){return b._keydownHandler()}(),f=function(a){c&&(clearInterval(c),d()),b.upDownArrowTimer&&(clearTimeout(b.upDownArrowTimer),b.upDownArrowTimer=null)};baidu.dom(a).on("keydown",e),baidu.dom(a).on("keyup",f),b.on("onmousedownitem",function(){clearInterval(c),setTimeout(function(){d()},500)}),b.on("ondispose",function(){baidu.dom(a).off("keydown",e),baidu.dom(a).off("keyup",f),clearInterval(c)})}),b.on("onrender",function(){var a=b.getElement("input"),c=b.getElement("suggestion"),d=function(){b.hide()},e=function(a){var a=a||window.event,d=a.target||a.srcElement;if(!b.suggestion)return;if(d==c||baidu.dom.contains(c,d)||d==b.getElement("input"))return;b.hide()};baidu.dom(window).on("blur",d),baidu.dom(document).on("click",e),b.on("ondispose",function(){baidu.dom(window).off("blur",d),baidu.dom(document).off("click",e)})}),b.on("onneeddata",function(a,c){var d=b.dataCache;b.currentQuery=c,typeof d[c]=="undefined"?b.getData(c):(b.currentData=d[c],b.currentData.length>0?b.show():b.hide())}),b.on("beforeshow",function(){var a=b.currentData,c=0,d=a.length;b.enableIndexs=[];for(;c<d;c++)(typeof a[c]["disable"]=="undefined"||a[c]["disable"]==0)&&b.enableIndexs.push(c)})},{type:"magic.control.Suggestion",superClass:magic.Base}).extend({tpl:{fix:"<div id='#{0}' class='#{1}'>#{2}</div>",body:'<table cellspacing="0" cellpadding="2" class="tang-suggestion-table"><tbody>#{0}</tbody></table>',item:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>'},render:function(){var a=this,b=new magic.Popup({autoHide:!1,autoTurn:!1,disposeOnHide:!1}),c=b.getElement();return baidu.dom(c).addClass("tang-suggestion-popup"),a.$mappingDom("suggestion",c),a.suggestion=b,a.fire("onrender"),c},isShowing:function(){var a=this,b=a.getElement("suggestion");return b&&baidu.dom(b).css("display")!="none"},show:function(){var a=this,b=a.getElement("suggestion")||a.render(),c=a.getElement("input"),d,e;a.fire("beforeshow"),a.suggestion.setContent(a._getSuggestionString()),a.suggestion.attach(c,{offsetX:a.offset&&a.offset.offsetX||0,offsetY:a.offset&&a.offset.offsetY||-1}),baidu.dom(b).css("display","block"),a.offset&&a.offset.width?(e=a.offset.width,baidu.dom("#"+a.suggestion.$getId("content")).css("width",parseInt(e)-2+"px")):(e=c.offsetWidth,d=b.getElementsByTagName("table")[0],baidu.dom(d).css("width",parseInt(e)-2+"px"),baidu.dom("#"+a.suggestion.$getId("content")).css("width",baidu(d).width()+"px")),a.selectedIndex=-1,a.fire("onshow")},hide:function(){var a=this,b=a.getElement("suggestion");if(!b||!a.isShowing())return;if(a.selectedIndex>=0&&a.holdHighLight){var c=a.currentData,d=a.enableIndexs[a.selectedIndex];c[d]&&(typeof c[d].disable=="undefined"||c[d].disable==0)&&a.$pick(d)}else a.oldInputValue=a.getElement("input").value;a._hide()},_hide:function(){var a=this,b=a.getElement("suggestion");baidu.dom(b).css("display","none"),a.selectedIndex=-1,a.fire("onhide")},_getSuggestionString:function(){function h(b){return baidu.string.format(a.tpl.fix,a.$getId(b),a._getClass(b),a[b+"HTML"])}var a=this,b="",c=[],d=a.currentData,e=d.length,f=0,g;a.prependHTML&&(b+=h("prepend"));for(;f<e;f++)g="baiduInstance('"+a.guid+"')",c.push(baidu.string.format(a.tpl.item,a.$getId("item"+f),d[f].content,g+"._mouseOver(event, "+f+")",g+"._mouseOut(event, "+f+")",g+"._mouseDown(event, "+f+")",g+"._mouseClick(event, "+f+")",typeof d[f]["disable"]=="undefined"||d[f]["disable"]==0?"":"tang-suggestion-disable"));return b+=baidu.string.format(a.tpl.body,c.join("")),a.appendHTML&&(b+=h("append")),b},getInputValue:function(){return this.getElement("input").value},getDataByIndex:function(a){return this.currentData[a]},_isEnable:function(a){var b=this;return baidu.array(b.enableIndexs).contains(a)},_getItemDom:function(a){return baidu.dom("#"+this.$getId("item"+a)).get(0)},_getClass:function(a){return"tang-suggestion-"+a},_focus:function(a){var b=this.enableIndexs;this.$pick(b[a]),this.$highlight(b[a])},$highlight:function(a){var b=this,c=b.enableIndexs,d=null;if(!b._isEnable(a))return;b.selectedIndex>=0&&b.$clearHighlight(),d=b._getItemDom(a),baidu.dom(d).addClass("tang-suggestion-current"),b.selectedIndex=baidu.array(c).indexOf(a),b.fire("onhighlight",{index:a,value:b.getDataByIndex(a).value})},$clearHighlight:function(){var a=this,b=a.selectedIndex,c=null,d=0;d=a.enableIndexs[b],b>=0&&(c=a._getItemDom(d),baidu.dom(c).removeClass(a._getClass("current")),a.selectedIndex=-1,a.fire("onclearhighlight",{index:d,value:a.getDataByIndex(d).value}))},$pick:function(a){var b=this,c=b.currentData,d=c[a];b.fire("onbeforepick",{index:a,value:d.value})&&(b.getElement("input").value=d.value,b.oldInputValue=d.value,b.fire("onpick",{index:a,value:d.value}))},$confirm:function(a){var b=this;if(!b._isEnable(a))return;b.$pick(a),b.fire("onconfirm",{index:a,value:b.getDataByIndex(a).value}),b._hide()},_wrapData:function(a){var b=this,c=[],d=0,e=a.length;for(;d<e;d++)typeof a[d].value!="undefined"?c.push(a[d]):c.push({value:a[d],content:baidu.string.encodeHTML(a[d])});return c},getData:function(a){},receiveData:function(a,b){var c=this,d=c.$cacheData(a,b);c.selectedIndex=-1,a==c.getInputValue()&&(c.currentData=d,b.length>0?c.show():c.hide())},$cacheData:function(a,b){var c=this,d=c._wrapData(b);return c.dataCache[a]=d,d},_mouseOver:function(a,b){var c=this;a=baidu.event(a),a.stopPropagation(),c._isEnable(b)&&(c.$highlight(b),c.selectedIndex=baidu.array(c.enableIndexs).indexOf(b)),c.fire("onmouseoveritem",{index:b,value:c.getDataByIndex(b).value})},_mouseOut:function(a,b){var c=this;a=baidu.event(a),a.stopPropagation(),c.holdHighLight||c._isEnable(b)&&c.$clearHighlight(),c.fire("onmouseoutitem",{index:b,value:c.getDataByIndex(b).value})},_mouseDown:function(a,b){var c=this;a=baidu.event(a),a.stopPropagation(),c.fire("onmousedownitem",{index:b,value:c.getDataByIndex(b).value})},_mouseClick:function(a,b){var c=this;a=baidu.event(a),a.stopPropagation(),c.fire("onmouseclick",{index:b,value:c.getDataByIndex(b).value}),c.$confirm(b)},_keydownHandler:function(){function b(b){var c=a.getInputValue(),d=a.enableIndexs,e=a.selectedIndex;if(!c)return;if(c&&!a.isShowing()){a.fire("onneeddata",c);return}if(d.length==0)return;if(a.upDownArrowTimer)return;a.upDownArrowTimer=setTimeout(function(){clearTimeout(a.upDownArrowTimer),a.upDownArrowTimer=null},200);if("up"==b)switch(e){case-1:a.$clearHighlight(),e=d.length-1,a._focus(e);break;case 0:e=-1,a.$clearHighlight(),a.getElement("input").value=a.currentQuery,a.oldInputValue=a.currentQuery;break;default:e--,a._focus(e)}else switch(e){case-1:e=0,a._focus(e);break;case d.length-1:e=-1,a.$clearHighlight(),a.getElement("input").value=a.currentQuery,a.oldInputValue=a.currentQuery;break;default:e++,a._focus(e)}a.selectedIndex=e}var a=this;return function(c){var d="up";switch(c.keyCode){case 27:case 9:a.hide();break;case 13:c.preventDefault(),c.stopPropagation(),a.selectedIndex>=0&&a.holdHighLight?a.$confirm(a.enableIndexs[a.selectedIndex]):(a.fire("onconfirm",{data:a.getInputValue()}),a.isShowing()&&a._hide());break;case 40:d="down";case 38:c.preventDefault(),c.stopPropagation(),b(d);break;default:}}},$dispose:function(){var a=this;if(a.disposed)return;a.suggestion&&(a.suggestion.$dispose(),a.hide()),magic.Base.prototype.$dispose.call(a)}}),magic.setup.suggestion=function(a,b){var a=baidu.dom("#"+a).get(0),c=magic.setup(a,magic.control.Suggestion,b);return c.$mappingDom("input",a),c.fire("onload"),c},baidu.lang.isElement=baidu.isElement,baidu.lang.guid=function(){return baidu.id()},baidu.createChain("fn",function(a){return new baidu.fn.$Fn(~"function|string".indexOf(baidu.type(a))?a:function(){})},function(a){this.fn=a}),baidu.fn.extend({bind:function(a){var b=this.fn,c=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var d=baidu.type(b)==="string"?a[b]:b,e=c?c.concat(Array.prototype.slice.call(arguments,0)):arguments;return d.apply(a||d,e)}}}),baidu.fn.bind=function(a,b){var c=baidu.fn(a);return c.bind.apply(c,Array.prototype.slice.call(arguments,1))},baidu.makeArray=function(a,b){var c=b||[];return a?(a.length==null||~"string|function|regexp".indexOf(baidu.type(a))?[].push.call(c,a):baidu.merge(c,a),c):c},baidu.each=function(a,b,c){var d,e,f,g;if(typeof b=="function"&&a){e=typeof a.length=="number"?a.length:a.byteLength;if(typeof e=="number"){if(Object.prototype.toString.call(a)==="[object Function]")return a;for(d=0;d<e;d++){f=a[d]||a.charAt&&a.charAt(d),g=b.call(c||f,d,f,a);if(g===!1||g=="break")break}}else if(typeof a=="number")for(d=0;d<a;d++){g=b.call(c||d,d,d,d);if(g===!1||g=="break")break}else if(typeof a=="object")for(d in a)if(a.hasOwnProperty(d)){g=b.call(c||a[d],d,a[d],a);if(g===!1||g=="break")break}}return a},baidu.array.extend({each:function(a,b){return baidu.each(this,a,b)},forEach:function(a,b){return baidu.forEach(this,a,b)}}),baidu.array.each=baidu.array.forEach=function(a,b,c){var d=function(a,d,e){return b.call(c||e,d,a,e)};return baidu.isEnumerable(a)?baidu.each(a,typeof b=="function"?d:"",c):a},baidu.array.extend({removeAt:function(a){return baidu.check("number","baidu.array.removeAt"),this.splice(a,1)[0]}}),baidu.dom.match=function(){function c(a){var b=[],c;while(a=a.parentNode)a.nodeType&&b.push(a);for(var c=b.length-1;c>-1;c--)if(b[c].nodeType==1||b[c].nodeType==9)return b[c];return null}var a=/^[\w\#\-\$\.\*]+$/,b=document.createElement("DIV");return b.id="__tangram__",function(a,b,d){var e,f=baidu.array();switch(baidu.type(b)){case"$DOM":for(var g=a.length-1;g>-1;g--)for(var h=b.length-1;h>-1;h--)a[g]===b[h]&&f.push(a[g]);break;case"function":baidu.forEach(a,function(a,c){b.call(a,c)&&f.push(a)});break;case"HTMLElement":baidu.forEach(a,function(a){a==b&&f.push(a)});break;case"string":var i=baidu.query(b,d||document);baidu.forEach(a,function(a){if(e=c(a)){var d=e.nodeType==1?baidu.query(b,e):i;for(var g=0,h=d.length;g<h;g++)if(d[g]===a){f.push(a);break}}}),f=f.unique();break;default:f=baidu.array(a).unique()}return f}}(),baidu.dom.extend({children:function(a){var b,c=[];return this.each(function(a){baidu.forEach(this.children||this.childNodes,function(a){a.nodeType==1&&c.push(a)})}),baidu.dom(baidu.dom.match(c,a))}}),baidu.dom.children=function(a){return baidu.check("string|HTMLElement","baidu.dom.children"),baidu.dom(baidu.isString(a)?"#"+a:a).children().toArray()},baidu.dom.extend({filter:function(a){return baidu.dom(baidu.dom.match(this,a))}}),baidu.dom.extend({remove:function(a,b){arguments.length>0&&baidu.check("^string(?:,boolean)?$","baidu.dom.remove");var c=a?this.filter(a):this;for(var d=0,e;e=c[d];d++)!b&&e.nodeType===1&&(baidu._util_.cleanData(e.getElementsByTagName("*")),baidu._util_.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this}}),baidu.dom.extend({closest:function(a,b){var c=baidu.array();return baidu.forEach(this,function(d){var e=[d];while(d=d.parentNode)d.nodeType&&e.push(d);e=baidu.dom.match(e,a,b),e.length&&c.push(e[0])}),baidu.dom(c.unique())}}),void function(){function a(a){this._options=a,this._constructor()}a.prototype._constructor=function(){var a=this,b=a._options;a._element=baidu.lang.isElement(b.content)&&b.content,a.guid=a._element.id||baidu.lang.guid()+"-carousel-item",a._element&&!a._element.id&&(a._element.id=a.guid)},a.prototype.render=function(a,b){if(this._element)return;var c=this,d=c._options,e=baidu.dom(a).children(),f=e[0]?e[0].tagName:"li",g="<"+f+' id="#{rsid}" class="#{class}">#{content}</'+f+">";position=b=="forward"?"append":"prepend",baidu.dom(a)[position](baidu.string.format(g,{rsid:c.guid,"class":"tang-carousel-item"+(d.empty?" tang-carousel-item-empty":""),content:d.empty?"&nbsp;":""})),c._element=baidu.dom("#"+c.guid).get(0)},a.prototype.insert=function(a,b){var c=this;c._element?b=="forward"?a.appendChild(c._element):a.insertBefore(c._element,a.firstChild):c.render(a,b)},a.prototype.loadContent=function(){var a=this},a.prototype.getElement=function(){var a=this;return a._element||baidu.dom("#"+this.guid).get(0)},magic.control.Carousel=baidu.lang.createClass(function(b){var c=this,d=b.focusRange,e;c._options=baidu.object.extend({viewSize:3,step:1,focusRange:{min:0,max:b.viewSize-1||2},orientation:"horizontal",originalIndex:0,isLoop:!1},b),e=c._options,c._selectedIndex=e.originalIndex,d&&(e.focusRange={min:Math.max(0,d.min),max:Math.min(e.viewSize-1,d.max)}),c._items=e.items||[],c._dataIds=[],c._datas={},c.on("onfocus",function(){c._scrolling=!1}),c.on("onload",function(b){var d=c._axis[c._options.orientation],e=c._selectedIndex,f=c._options,g=f.focusRange,h=baidu.fn.bind("_onEventHandler",c);c.$mappingDom("container",baidu(".tang-carousel-container",c.getElement())[0]).$mappingDom("element",baidu(".tang-carousel-element",c.getElement())[0]),baidu.dom(baidu.dom(c.getElement("element")).children()).each(function(b,d){var f=new a({content:d});c._dataIds.push(f.guid),c._datas[f.guid]=f,baidu.dom(d)[e==b?"addClass":"removeClass"]("tang-carousel-item-selected")}),c._clear(e,g[e>(c._dataIds.length-1)/2?"max":"min"],!0),c._resize(),baidu.dom(c.getElement("element")).on("click",h),baidu.dom(c.getElement("element")).on("mouseover",h),baidu.dom(c.getElement("element")).on("mouseout",h),c.on("ondispose",function(){baidu.dom(c.getElement("element")).off("click",h),baidu.dom(c.getElement("element")).off("mouseover",h),baidu.dom(c.getElement("element")).off("mouseout",h)})})},{type:"magic.control.Carousel",superClass:magic.Base}).extend({_axis:{horizontal:{size:"width",offsetPos:"offsetLeft",offsetSize:"offsetWidth",scrollPos:"scrollLeft"},vertical:{size:"height",offsetPos:"offsetTop",offsetSize:"offsetHeight",scrollPos:"scrollTop"}},_onEventHandler:function(a){var b=this,c=b._options,d=b.getElement("element"),e=a.target;if(!baidu.dom.contains(b.getElement("element"),e))return;var f=baidu.dom(e).closest(".tang-carousel-item").get(0);if(a.type==="mouseover")var g=a.fromElement||a.relatedTarget;else if(a.type==="mouseout")var g=a.toElement||a.relatedTarget;if(baidu.dom(g).closest(f).size()>0)return;b.fire("on"+a.type.toLowerCase()+"item",{DOMEvent:a,index:baidu.array.indexOf(b._dataIds,f.id)})},_getItemBound:function(){var a=this,b=a._options,c=b.orientation.toLowerCase()=="horizontal",d=a._axis[b.orientation],e=a._bound,f;return e||(f=baidu.dom(a.getElement("element")).children().get(0),f&&(e=a._bound={marginPrev:parseInt(baidu.dom(f).css("margin"+(c?"Left":"Top")),10),marginNext:parseInt(baidu.dom(f).css("margin"+(c?"Right":"Bottom")),10),size:f[d.offsetSize]},e.bound=e.size+(c?e.marginPrev+e.marginNext:Math.max(e.marginPrev,e.marginNext)))),e||{marginPrev:0,marginNext:0,size:0,bound:0}},_resize:function(){var a=this,b=a._axis[a._options.orientation],c=a.getElement("element"),d=baidu.dom(c).children();c.style[b.size]=d.length*a._getItemBound().bound+"px"},_clear:function(a,b,c){var d=this,e=d._axis[d._options.orientation],f=d._options,g=f.viewSize,h=f.focusRange,i=d._dataIds.length,j=baidu.makeArray(baidu.dom(d.getElement("element")).children()),k=baidu.array(j).indexOf(d._getItem(a).getElement());c&&(a-h.min<0&&(b=a),a+g-h.max>i&&(b=g-i+a)),baidu(j).each(function(a,c){(a<k-b||a>k+g-b-1)&&baidu.dom(c).remove()}),d.getElement("container")[e.scrollPos]=0},_getItem:function(a){var b=this;return b._datas[typeof a=="string"?a:b._dataIds[a]]},_toggle:function(a){var b=this;baidu.dom("#"+b._dataIds[b._selectedIndex]).removeClass("tang-carousel-item-selected"),b._selectedIndex=a,baidu.dom("#"+b._dataIds[a]).addClass("tang-carousel-item-selected")},_scrollTo:function(b,c){var d=this,e=d._options,f=e.focusRange,g=d._selectedIndex,h=d._axis[e.orientation],c=c||(b>g?"forward":"backward"),i=c.toLowerCase()=="forward",j=d.getElement("container"),k=d.getElement("element"),l=d._getItemBound(),m=baidu.dom("#"+d._getItem(b).guid).get(0),n=d._dataIds.length,o=baidu.makeArray(baidu.dom(k).children()),p=baidu.array.indexOf(o,d._getItem(g).getElement()),q=((i?1:-1)*(b-g)+n)%n+(i?e.viewSize-f.max-1:f.min)-(i?o.length-p-1:p),r=[],s,t,u,v,w;if(d._scrolling)return;d._scrolling=!0;if(!m||m[h.offsetPos]<f.min*l.bound||m[h.offsetPos]-l.marginPrev>f.max*l.bound){for(var x=0;x<q;x++)s=(g+(i?o.length-p-1:-p)+(i?1:-1)*(x+1)+n)%n,t=baidu.dom("#"+d._dataIds[s]).get(0),v=t?new a({empty:!0}):d._getItem(s),v.insert(k,c),v.loadContent(),t&&r.push({empty:v.getElement(),item:t});d._resize(),!i&&(j[h.scrollPos]+=l.bound*q);if(d.fire("onbeforescroll",{index:b,distance:(i?1:-1)*l.bound*q,empty:r})){d._toggle(b);while(r.length>0)w=r.shift(),k.replaceChild(w.item,w.empty),baidu.dom(w.empty).remove();d._clear(b,f[i?"max":"min"]),d._resize(),d.fire("onfocus",{direction:c})}}else d._toggle(b),d.fire("onfocus",{direction:c})},_basicFlip:function(a){var b=this,c=b._options,d=c.focusRange,e=a=="forward"?1:-1,f=b._selectedIndex,g=b._dataIds.length,h=c.isLoop?(f+e*c.step+g)%g:Math.min(g-1-(c.viewSize-1-d.max),Math.max(0+d.min,f+e*c.step));b._scrollTo(h,a)},focusPrev:function(){this._basicFlip("backward")},focusNext:function(){this._basicFlip("forward")},focus:function(a,b){var a=Math.min(Math.max(0,a),this._dataIds.length-1);this._scrollTo(a,b)},getCurrentIndex:function(){return this._selectedIndex},getTotalCount:function(){return this._dataIds.length},$dispose:function(){var a=this;if(a.disposed)return;magic.Base.prototype.$dispose.call(a)}})}(),magic.Carousel=baidu.lang.createClass(function(a){},{type:"magic.Carousel",superClass:magic.control.Carousel}).extend({tplItem:'<li class="#{class}">#{content}</li>',toHTMLString:function(){var a=this,b=a._options.items.length,c=[];for(var d=0;d<b;d++)c.push(baidu.string.format(a.tplItem,{"class":"tang-carousel-item",content:a._items[d].content}));return baidu.string.format('<div class="#{containerClass}"><ul class="#{elementClass}">#{content}</ul></div>',{containerClass:"tang-carousel-container",elementClass:"tang-carousel-element",content:c.join("")})},render:function(a){var b=this,c;if(b.getElement())return;b.$mappingDom("",baidu.dom("#"+a).get(0)||document.body),c=b.getElement(),baidu.dom(c).addClass("tang-ui tang-carousel").append(b.toHTMLString()),b.fire("ondomready"),b.fire("onload")},$dispose:function(){var a=this,b;if(a.disposed)return;baidu.dom(a.getElement()).removeClass("tang-ui tang-carousel"),b=a.getElement("container"),magic.Base.prototype.$dispose.call(a),baidu.dom(b).remove(),b=null}}),magic.setup.carousel=function(a,b){var c=magic.setup(baidu.dom("#"+a).get(0),magic.control.Carousel,b);return c.fire("onload"),c},baidu.base.register=function(a,b,c){(a._reg_||(a._reg_=[])).push(b);for(var d in c)a.prototype[d]=c[d]},baidu.lang.register=baidu.base.register,baidu.lang.register(magic.control.Carousel,function(a){function e(){var a=b.getElement("prev"),c=b.getElement("next");baidu.dom(a)[b.isFirst()?"addClass":"removeClass"]("tang-carousel-btn-prev-disabled"),baidu.dom(c)[b.isLast()?"addClass":"removeClass"]("tang-carousel-btn-next-disabled"),baidu.dom(a)[b.isFirst()?"removeClass":"addClass"]("tang-carousel-btn-prev"),baidu.dom(c)[b.isLast()?"removeClass":"addClass"]("tang-carousel-btn-next")}var b=this,c,d;b._options.button=baidu.object.extend({enable:!0},b._options.button);if(!b._options.button.enable)return;c=baidu.fn.bind("_onButtonClick",b,"backward"),d=baidu.fn.bind("_onButtonClick",b,"forward"),b.on("onload",function(a){b.$mappingDom("prev",baidu(".tang-carousel-btn-prev",b.getElement())[0]).$mappingDom("next",baidu(".tang-carousel-btn-next",b.getElement())[0]),baidu.dom(b.getElement("prev")).on("click",c),baidu.dom(b.getElement("next")).on("click",d),e()}),b.on("onfocus",function(){e()}),b.on("ondispose",function(){baidu.dom(b.getElement("prev")).off("click",c),baidu.dom(b.getElement("next")).off("click",d)})},{_onButtonClick:function(a,b){var c=this;if(a=="forward"?c.isLast():c.isFirst())return;c._basicFlip(a)},_isLimit:function(a){var b=this,c=b._options,d=c.focusRange,e=b._selectedIndex,f=a=="forward"?e>=b.getTotalCount()-1-(c.viewSize-1-d.max):e<=d.min;return c.isLoop?!1:f},isFirst:function(){return this._isLimit("backward")},isLast:function(){return this._isLimit("forward")}}),baidu.lang.register(magic.Carousel,function(a){var b=this,c='<a href="#" class="tang-carousel-btn #{class}" onclick="return false;">#{content}</a>';b._options.button=baidu.object.extend({buttonLabel:{prev:"",next:""}},b._options.button);if(!b._options.button.enable)return;b.on("ondomready",function(a){var d=b.getElement();baidu.dom(d).prepend(baidu.string.format(c,{"class":"tang-carousel-btn-prev",content:b._options.button.buttonLabel.prev})),baidu.dom(d).append
(baidu.string.format(c,{"class":"tang-carousel-btn-next",content:b._options.button.buttonLabel.next})),b.on("ondispose",function(){baidu(["prev","next"]).each(function(a,c){baidu.dom(b.getElement(c)).remove()})})})}),void function(a){if(a.mousewheel)return;var b=/firefox/i.test(navigator.userAgent),c=/msie/i.test(navigator.userAgent);baidu.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,c){a[b]={bindType:c,pack:function(a){var c=baidu.dom.contains;return function(d){var e=d.relatedTarget;d.type=b;if(!e||e!==this&&!c(this,e))return a.apply(this,arguments)}}}}),c||baidu.each({focusin:"focus",focusout:"blur"},function(b,c){a[b]={bindType:c,attachElements:"textarea,select,input,button,a"}}),a.mousewheel={bindType:b?"DOMMouseScroll":"mousewheel",pack:function(a){return function(c){var d=c.originalEvent;return c.type="mousewheel",c.wheelDelta=c.wheelDelta||(b?d.detail*-40:d.wheelDelta)||0,a.apply(this,arguments)}}}}(baidu.event.special),baidu.lang.register(magic.control.Carousel,function(a){var b=this,c;b._options.autoScroll=baidu.object.extend({enable:!0,interval:1e3,direction:"forward"},b._options.autoScroll),c=b._options.autoScroll;if(!c.enable)return;c._autoScrolling=!0,c.direction=c.direction.toLowerCase(),b.on("onload",function(a){var c=baidu.fn.bind("_onMouseEventHandler",b);baidu.dom(b.getElement("element")).on("mouseenter",c),baidu.dom(b.getElement("element")).on("mouseleave",c),b.on("ondispose",function(){baidu.dom(b.getElement("element")).off("mouseenter",c),baidu.dom(b.getElement("element")).off("mouseleave",c)}),b.start()}),b.on("onfocus",function(a){if(!c._autoScrolling)return;a.target.start()}),b.on("ondispose",function(a){a.target.stop()})},{_onMouseEventHandler:function(a){var b=this,c={mouseover:"mouseenter",mouseout:"mouseleave"},d=a.type;b.fire("on"+(c[d]||d),{DOMEvent:a})},start:function(){var a=this,b=a._options.autoScroll;b._autoScrolling=!0,clearTimeout(b._autoScrollTimeout),b._autoScrollTimeout=setTimeout(function(){a._basicFlip(b.direction)},b.interval)},stop:function(){var a=this,b=a._options.autoScroll;clearTimeout(b._autoScrollTimeout),b._autoScrolling=!1}}),baidu.fx=baidu.fx||{},baidu.fx.Timeline=function(a){baidu.lang.Class.call(this),this.interval=16,this.duration=500,this.dynamic=!0,baidu.object.extend(this,a)},baidu.lang.inherits(baidu.fx.Timeline,baidu.lang.Class,"baidu.fx.Timeline").extend({launch:function(){var a=this;return a.dispatchEvent("onbeforestart"),typeof a.initialize=="function"&&a.initialize(),a["btime"]=(new Date).getTime(),a["etime"]=a["btime"]+(a.dynamic?a.duration:0),a["pulsed"](),a},"pulsed":function(){var a=this,b=(new Date).getTime();a.percent=(b-a["btime"])/a.duration,a.dispatchEvent("onbeforeupdate");if(b>=a["etime"]){typeof a.render=="function"&&a.render(a.transition(a.percent=1)),typeof a.finish=="function"&&a.finish(),a.dispatchEvent("onafterfinish"),a.dispose();return}typeof a.render=="function"&&a.render(a.transition(a.percent)),a.dispatchEvent("onafterupdate"),a["timer"]=setTimeout(function(){a["pulsed"]()},a.interval)},transition:function(a){return a},cancel:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],typeof this.restore=="function"&&this.restore(),this.dispatchEvent("oncancel"),this.dispose()},end:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],this["pulsed"]()}}),baidu.fx.create=function(a,b,c){var d=new baidu.fx.Timeline(b);d.element=a,d.__type=c||d.__type,d["original"]={};var e="baidu_current_effect";return d.addEventListener("onbeforestart",function(){var a=this,b;a.attribName="att_"+a.__type.replace(/\W/g,"_"),b=a.element.getAttribute(e),a.element.setAttribute(e,(b||"")+"|"+a.guid+"|",0),a.overlapping||((b=a.element.getAttribute(a.attribName))&&baiduInstance(b).cancel(),a.element.setAttribute(a.attribName,a.guid,0))}),d["clean"]=function(a){var b=this,c;if(a=b.element)a.removeAttribute(b.attribName),c=a.getAttribute(e),c=c.replace("|"+b.guid+"|",""),c?a.setAttribute(e,c,0):a.removeAttribute(e)},d.addEventListener("oncancel",function(){this["clean"](),this["restore"]()}),d.addEventListener("onafterfinish",function(){this["clean"](),this.restoreAfterFinish&&this["restore"]()}),d.protect=function(a){this["original"][a]=this.element.style[a]},d["restore"]=function(){var a=this["original"],b=this.element.style,c;for(var d in a){c=a[d];if(typeof c=="undefined")continue;b[d]=c,!c&&b.removeAttribute?b.removeAttribute(d):!c&&b.removeProperty&&b.removeProperty(d)}},d},baidu.fx.scrollBy=function(a,b,c){if(!(a=baidu.dom.g(a))||typeof b!="object")return null;var d={},e={};d.x=b[0]||b.x||0,d.y=b[1]||b.y||0;var f=baidu.fx.create(a,baidu.object.extend({initialize:function(){var b=e.sTop=a.scrollTop,c=e.sLeft=a.scrollLeft;e.sx=Math.min(a.scrollWidth-a.clientWidth-c,d.x),e.sy=Math.min(a.scrollHeight-a.clientHeight-b,d.y)},transition:function(a){return 1-Math.pow(1-a,2)},render:function(b){a.scrollTop=e.sy*b+e.sTop,a.scrollLeft=e.sx*b+e.sLeft},restore:function(){a.scrollTop=e.sTop,a.scrollLeft=e.sLeft}},c),"baidu.fx.scroll");return f.launch()},baidu.fx.scrollTo=function(a,b,c){if(!(a=baidu.dom.g(a))||typeof b!="object")return null;var d={};return d.x=(b[0]||b.x||0)-a.scrollLeft,d.y=(b[1]||b.y||0)-a.scrollTop,baidu.fx.scrollBy(a,d,c)},baidu.lang.instance=function(a){return baidu._global_&&baidu._global_._instances&&baidu._global_._instances[a]||null},baidu.fx.current=function(a){if(!(a=baidu.dom.g(a)))return null;var b,c,d=/\|([^\|]+)\|/g;do if(c=a.getAttribute("baidu_current_effect"))break;while((a=a.parentNode)&&a.nodeType==1);if(!c)return null;if(b=c.match(d)){d=/\|([^\|]+)\|/;for(var e=0;e<b.length;e++)d.test(b[e]),b[e]=baidu._global_._instances[RegExp.$1]}return b},baidu.lang.register(magic.control.Carousel,function(a){var b=this;b._options.fx=baidu.object.extend({enable:!0},b._options.fx);if(!b._options.fx.enable)return;b.on("onbeforescroll",function(a){a.returnValue=!1;if(baidu.fx.current(b.getElement("container")))return;var c=b._options,d=b._axis[c.orientation],e=c.orientation=="horizontal",f=b.getElement("container"),g=f[d.scrollPos]+a.distance,h=baidu.object.extend({onbeforeupdate:function(){if(a.empty.length<=0)return;var b=a.empty[0],c,e;if(a.distance<0?b.empty[d.offsetPos]+b.empty[d.offsetSize]-f[d.scrollPos]>=0:b.empty[d.offsetPos]-f[d.scrollPos]<=f[d.offsetSize])c=b.empty.parentNode,e=b.empty.cloneNode(!0),c.replaceChild(e,b.empty),c.replaceChild(b.empty,b.item),c.replaceChild(b.item,e),a.empty.shift()},onafterfinish:function(){if(b.disposed)return;b._toggle(a.index),b._clear(a.index,c.focusRange[a.distance<0?"min":"max"]),b._resize(),b.fire("onfocus",{direction:a.distance>0?"forward":"backward"})}},c.fx);baidu.fx.scrollTo(f,{x:e?g:0,y:e?0:g},h)})}),baidu.lang.register(magic.control.Carousel,function(a){var b=this;b._options.itemsModify=baidu.object.extend({enable:!0},b._options.itemsModify);if(!b._options.itemsModify.enable)return},{removeItem:function(a){if(a>=this._dataIds.length)return;var b=this,c=b._options.focusRange,d=b._options.viewSize,e=b.getElement("element"),f=baidu.makeArray(baidu.dom(e).children()),g=b._dataIds.length,h=baidu("#"+b._dataIds[a]),i=[],j,k;baidu.array(f).each(function(a,b){i.push(b.id)}),baidu.array(i).indexOf(b._dataIds[a])!=-1&&(baidu(h).remove(),b._dataIds.length>d&&(j=baidu.array(b._dataIds).indexOf(f[d-1].id)+1,j==b._dataIds.length&&(j=0),k=b._getItem(j),k.insert(e,"forward"),k.loadContent(),b._resize())),delete b._datas[b._getItem(a).guid],baidu.array(b._dataIds).removeAt(a),a>=b._dataIds.length&&(a=0),b._selectedIndex==a&&b._dataIds.length>0&&b.focus(a)}}),baidu.event.preventDefault=function(a){return(new baidu.event(a)).preventDefault()},magic.Pager=baidu.lang.createClass(function(a){var b=this;this.currentPage=1,this.totalPage=1,this.viewSize=10,this.currentPagePos=4,this.labelFirst="\u9996\u9875",this.labelPrev="\u4e0a\u4e00\u9875",this.labelNext="\u4e0b\u4e00\u9875",this.labelLast="\u5c3e\u9875",this.tplURL="##{pageNum}",this.tplLabelNormal="#{pageNum}",this.tplLabelCurrent="#{pageNum}",baidu.object.extend(this,a),this.currentPage=Math.max(this.currentPage,1)},{type:"magic.Pager",superClass:magic.Base}).extend({_buildLink:function(a,b,c){return"<a onclick=\"return baiduInstance('"+this.guid+"').$update("+a+')" href="'+baidu.string.format(this.tplURL,{pageNum:a})+'" class="tang-pager-'+b+'">'+c+"</a>"},$update:function(a){this.currentPage=a;var b=this.getElement();return b.innerHTML="",this.render(this.$getId()),this.fire("pagechange",{pageNum:a})},$toHTMLString:function(){var a,b=[],c=this.totalPage<this.viewSize||this.currentPage<=this.currentPagePos?1:Math.min(this.currentPage-this.currentPagePos,this.totalPage-this.viewSize+1),d=Math.min(this.totalPage,c+this.viewSize-1);b.push('<div id="'+this.$getId("main")+'" class="tang-pager-main">'),1<this.currentPage&&(b.push(this._buildLink(1,"first",this.labelFirst)),b.push(this._buildLink(this.currentPage-1,"previous",this.labelPrev)));for(a=c;a<this.currentPage;a++)b.push(this._buildLink(a,"normal",baidu.string.format(this.tplLabelNormal,{pageNum:a})));b.push('<span class="tang-pager-current">'+baidu.string.format(this.tplLabelCurrent,{pageNum:this.currentPage})+"</span>");for(a=this.currentPage+1;a<=d;a++)b.push(this._buildLink(a,"normal",baidu.string.format(this.tplLabelNormal,{pageNum:a})));return this.totalPage>this.currentPage&&(b.push(this._buildLink(this.currentPage+1,"next",this.labelNext)),b.push(this._buildLink(this.totalPage,"last",this.labelLast))),b.push("</div>"),b.join("")},render:function(a){this.getElement()||this.$mappingDom("",a||document.body),a=baidu.dom("#"+a),baidu.dom(a).addClass("tang-pager").append(this.$toHTMLString()),this.fire("load")},$dispose:function(){if(this.disposed)return;var a=this.getElement(),b=this.getElement("main");baidu.dom(a).removeClass("tang-pager"),magic.Base.prototype.$dispose.call(this),baidu.dom(b).remove(),a=b=null}}),baidu.date=baidu.date||{},baidu.createChain("number",function(a){var b=parseFloat(a),c=isNaN(b)?b:a,d=typeof c=="number"?Number:String,e=d.prototype;return c=new d(c),baidu.forEach(baidu.number.$Number.prototype,function(a,b){e[b]||(c[b]=a)}),c}),baidu.number.extend({pad:function(a){var b=this,c="",d=b<0,e=String(Math.abs(b));return e.length<a&&(c=(new Array(a-e.length+1)).join("0")),(d?"-":"")+c+e}}),baidu.date.format=function(a,b){function c(a,c){b=b.replace(a,c)}if("string"!=typeof b)return a.toString();var d=baidu.number.pad,e=a.getFullYear(),f=a.getMonth()+1,g=a.getDate(),h=a.getHours(),i=a.getMinutes(),j=a.getSeconds();return c(/yyyy/g,d(e,4)),c(/yy/g,d(parseInt(e.toString().slice(2),10),2)),c(/MM/g,d(f,2)),c(/M/g,f),c(/dd/g,d(g,2)),c(/d/g,g),c(/HH/g,d(h,2)),c(/H/g,h),c(/hh/g,d(h%12,2)),c(/h/g,h%12),c(/mm/g,d(i,2)),c(/m/g,i),c(/ss/g,d(j,2)),c(/s/g,j),b},baidu.lang.isObject=baidu.isObject,baidu.lang.isFunction=baidu.isFunction,baidu.object.merge=function(){function a(a){return baidu.lang.isObject(a)&&!baidu.lang.isFunction(a)}function b(b,c,d,e,f){if(c.hasOwnProperty(d))if(f&&a(b[d]))baidu.object.merge(b[d],c[d],{overwrite:e,recursive:f});else if(e||!(d in b))b[d]=c[d]}return function(a,c,d){var e=0,f=d||{},g=f.overwrite,h=f.whiteList,i=f.recursive,j;if(h&&h.length){j=h.length;for(;e<j;++e)b(a,c,h[e],g,i)}else for(e in c)b(a,c,e,g,i);return a}}(),baidu.i18n=baidu.i18n||{},baidu.i18n.date=baidu.i18n.date||{getDaysInMonth:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31];return b==1&&baidu.i18n.date.isLeapYear(a)?29:c[b]},isLeapYear:function(a){return!(a%400)||!(a%4)&&!!(a%100)},toLocaleDate:function(a,b,c){return this._basicDate(a,b,c||baidu.i18n.currentLocale)},_basicDate:function(a,b,c){var d=baidu.i18n.cultures[c||baidu.i18n.currentLocale].timeZone,e=d*60,f,g,h=a.getTime();return b?(f=baidu.i18n.cultures[b].timeZone,g=f*60):(g=-1*a.getTimezoneOffset(),f=g/60),new Date(f!=d?h+(e-g)*6e4:h)},format:function(a,b){var c=baidu.i18n.cultures[b||baidu.i18n.currentLocale];return baidu.date.format(baidu.i18n.date.toLocaleDate(a,"",b),c.calendar.dateFormat)}},baidu.i18n.cultures=baidu.i18n.cultures||{},baidu.i18n.cultures["zh-CN"]=baidu.object.extend(baidu.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}\u5e74&nbsp;#{MM}\u6708",monthNames:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"],monthNamesShort:[1,2,3,4,5,6,7,8,9,10,11,12],dayNames:{mon:"\u4e00",tue:"\u4e8c",wed:"\u4e09",thu:"\u56db",fri:"\u4e94",sat:"\u516d",sun:"\u65e5"}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(a,b){return baidu.i18n.number._format(a,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:b?this.negative:this.positive})}},currency:{symbol:"\uffe5"},language:{ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88",signin:"\u6ce8\u518c",signup:"\u767b\u5f55"}}),baidu.i18n.currentLocale="zh-CN",baidu.dom.extend({hide:function(){return this.each(function(a,b){if(!b.style)return;b.style.display="none"})}}),baidu.lang.isDate=baidu.isDate,magic.Calendar=baidu.lang.createClass(function(a){var b=this;b._options=baidu.object.extend({weekStart:"sun",initDate:new Date,highlightDates:[],disabledDates:[],disabledDayOfWeek:[],language:"zh-CN"},a||{}),b.currentDate=new Date(b._options.initDate),b.selectedDate=new Date(b._options.initDate),b.dayNames=[]},{type:"magic.Calendar",superClass:magic.Base}),magic.Calendar.extend({tplSkeleton:'<div id="#{calendarId}" class="#{calendarClass}"><div id="#{titleId}" class="#{titleClass}"></div><div id="#{tableId}" class="#{tableClass}"></div><div id="#{footerId}" class="#{footerClass}"></div></div>',tplDate:'<td id="#{id}" class="#{class}" onmouseover="#{mouseover}" onmouseout="#{mouseout}" onclick="#{click}">#{date}</td>',render:function(a){var b=this;baidu.type(a)==="string"&&(a="#"+a),b.container=baidu(a)[0],b._renderSkeleton(),b._renderTitle(),b._renderDateTable(),b._renderNavBtn(),b._bindTable(),b._bindNavBtn(),b.fire("render")},_rerender:function(){var a=this;a._renderTitle(),a._renderDateTable(),a._bindTable()},_getId:function(a){return this._eid+(a===undefined?"tang_calendar":"tang_calendar_"+a)},_getClass:function(a){return a===undefined?"tang-calendar":"tang-calendar-"+a},_renderSkeleton:function(){var a=this,b=a.container;baidu(b).append(baidu.string.format(a.tplSkeleton,{calendarId:a._getId(),calendarClass:a._getClass(),titleId:a._getId("title"),titleClass:a._getClass("title"),tableId:a._getId("table"),tableClass:a._getClass("table"),footerId:a._getId("footer"),footerClass:a._getClass("footer")})),a.titleEl=baidu("#"+a._getId("title"))[0],a.tableEl=baidu("#"+a._getId("table"))[0];var c=baidu("#"+a._getId("footer"));a.footerEl=c[0],c.hide(),a.$mappingDom("",baidu("#"+a._getId())[0]),a.$mappingDom("calendar",baidu("#"+a._getId())[0]),a.$mappingDom("title",a.titleEl),a.$mappingDom("table",a.tableEl),a.$mappingDom("footer",a.footerEl)},_renderTitle:function(){var a=this,b=a.currentDate,c=b.getFullYear(),d=b.getMonth()+1;a.titleEl.innerHTML=baidu.string.format(baidu.i18n.cultures[a._options.language].calendar.titleNames,{yyyy:c,MM:baidu.i18n.cultures[a._options.language].calendar.monthNamesShort[d-1]})},_renderDateTable:function(){var a=this._getTheadString(),b=this._getTbodyString();this.tableEl.innerHTML='<table border="0" cellpadding="0" cellspacing="0">'+a+b+"</table>"},_renderNavBtn:function(){var a=this,b=baidu("#"+a._getId())[0],c=document,d=c.createElement("div"),e=c.createElement("div"),f=c.createElement("div"),g=c.createElement("div");d.className=a._getClass("prebtn"),e.className=a._getClass("nextbtn"),f.className=a._getClass("yprebtn"),g.className=a._getClass("ynextbtn"),b.appendChild(d),b.appendChild(e),b.appendChild(f),b.appendChild(g),a.preBtn=d,a.nextBtn=e,a.ypreBtn=f,a.ynextBtn=g,a.$mappingDom("premonthbtn",d),a.$mappingDom("nextmonthbtn",e),a.$mappingDom("preyearbtn",f),a.$mappingDom("preyearhbtn",g)},_bindNavBtn:function(){var a=this,b=a.preBtn,c=a.nextBtn,d=a.ypreBtn,e=a.ynextBtn,f=!1,g,h,i,j,k,l,m,n,o;baidu(b).on("click",g=function(){!f&&a.preMonth(),f=!1,a.fire("premonth")}),baidu(c).on("click",h=function(){!f&&a.nextMonth(),f=!1,a.fire("nextmonth")}),baidu(d).on("click",i=function(){!f&&a.preYear(),f=!1,a.fire("preyear")}),baidu(e).on("click",j=function(){!f&&a.nextYear(),f=!1,a.fire("nextyear")});var p=null,q=function(b,c){function d(){p=setTimeout(function(){c?b=="pre"?a.preYear():a.nextYear():b=="pre"?a.preMonth():a.nextMonth(),f=!0,d()},500)}if(p)return;d()},r=function(){clearTimeout(p),p=null};baidu(b).on("mousedown",k=function(){q("pre")}),baidu(c).on("mousedown",l=function(){q("next")}),baidu(d).on("mousedown",m=function(){q("pre",!0)}),baidu(e).on("mousedown",n=function(){q("next",!0)}),baidu(document).on("mouseup",o=function(){if(a.disposed)return;p&&r()}),a.on("dispose",function(){baidu(b).off("click",g),baidu(c).off("click",h),baidu(d).off("click",i),baidu(e).off("click",j),baidu(b).off("mousedown",k),baidu(c).off("mousedown",l),baidu(d).off("mousedown",m),baidu(e).off("mousedown",n),baidu(document).off("mouseup",o)})},_getTheadString:function(){var a=this,b=["mon","tue","wed","thu","fri","sat","sun"],c,d=[],e=a._options.weekStart.toLowerCase(),f=baidu.array.indexOf(b,e),g=baidu.i18n.cultures[a._options.language].calendar.dayNames,h=0;d.push('<thead class="'+a._getClass("weekdays")+'"><tr>');for(;h<7;h++)f>6&&(f=0),a.dayNames.push(b[f]),c=g[b[f]],d.push("<th>"+c+"</th>"),f++;return d.push("</tr></thead>"),d.join("")},_getTbodyString:function(){var a=this,b=a.dayNames,c=["sun","mon","tue","wed","thu","fri","sat"],d=new Date(a.currentDate),e,f=0,g=[],h=0,i=baidu.i18n.date.getDaysInMonth(d.getFullYear(),d.getMonth()),j=5,k="",l="";d.setDate(1),e=d.getDay(),f=baidu.array.indexOf(b,c[e]),f+i>35&&(j=6),d.setDate(d.getDate()-f);var m=0,n=0,o="";for(;m<j;m++){g.push("<tr>");for(;n<7;n++){o=a._getClass("date"),k="";if(d.getDay()==0||d.getDay()==6)o+=" "+a._getClass("weekend");a._datesEqual(new Date,d)&&(o+=" "+a._getClass("today")),a._datesContains(a._options.highlightDates,d)&&(o+=" "+a._getClass("highlight")),a._datesContains(a._options.disabledDates,d)&&(o+=" "+a._getClass("disable")),a._dayOfWeekInDisabled(d.getDay())&&(o+=" "+a._getClass("disable")),a._datesEqual(a.selectedDate,d)&&(o+=" "+a._getClass("selected"),k='id="'+a._getId("selected")+'"');if(d.getMonth()<a.currentDate.getMonth()||d.getFullYear()<a.currentDate.getFullYear())o+=" "+a._getClass("premonth");else if(d.getMonth()>a.currentDate.getMonth()||d.getFullYear()>a.currentDate.getFullYear())o+=" "+a._getClass("nextmonth");l=a._formatDate(new Date(d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate())),g.push("<td "+k+' class="'+o+'" date="'+l+'" onmouseover=baiduInstance("'+a.guid+'")._mouseoverHandler(event) onmouseout=baiduInstance("'+a.guid+'")._mouseoutHandler(event)>'+d.getDate()+"</td>"),d.setDate(d.getDate()+1)}g.push("</tr>"),n=0}return"<tbody>"+g.join("")+"</tbody>"},_formatDate:function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate();return c=c>=10?c:"0"+c,d=d>=10?d:"0"+d,b+"/"+c+"/"+d},_mouseoverHandler:function(a){var b=this,c;c=baidu.event(a).target,baidu(c).addClass(b._getClass("hover")),b.fire("mouseover",{target:c})},_mouseoutHandler:function(a){var b=this,c;c=baidu.event(a).target,baidu(c).removeClass(b._getClass("hover")),b.fire("mouseout",{target:c})},_bindTable:function(){var a=this,b=baidu("#"+a._getId("table"))[0].getElementsByTagName("tbody")[0],c,d,e,f,g;baidu(b).on("click",g=function(b){c=b.target;if(c.tagName.toUpperCase()!="TD")return;d=c.getAttribute("date"),e=new Date(d);var g=a.selectedDate;e.setHours(g.getHours()),e.setMinutes(g.getMinutes()),e.setSeconds(g.getSeconds());if(a._datesContains(a._options.disabledDates,e))return;if(a._dayOfWeekInDisabled(e.getDay()))return;f=baidu("#"+a._getId("selected"))[0],f&&(f.id="",baidu(f).removeClass(a._getClass("selected"))),c.id=a._getId("selected"),baidu(c).addClass(a._getClass("selected")),d=a._formatDate(e),a.selectedDate=new Date(d),a.fire("selectdate",{date:new Date(d)})}),a.on("dispose",function(){baidu(b).off("click",g)})},_addkeystrokesListener:function(){function e(b){b=b||window.event;var c=!0;switch(b.keyCode){case 33:a.preMonth();break;case 34:a.nextMonth();break;case 37:a._preDay();break;case 38:a._preDay();break;case 39:a._nextDay();break;case 40:a._nextDay();break;default:c=!1}c&&b.preventDefault()}var a=this,b=!1,c=baidu("#"+a._getId())[0],d;baidu(document).on("click",d=function(d){if(a.disposed)return;var f=d.target;if(!baidu.dom.contains(c,f)&&f!=c)baidu(document).off("keydown",e),b=!1;else{if(b)return;baidu(document).on("keydown",e),b=!0}}),a.on("dispose",function(){baidu(document).off("click",d)})},_datesEqual:function(a,b){if(baidu.type(a)!="date"||baidu.type(b)!="date")return;var c=a.getFullYear(),d=a.getMonth(),e=a.getDate(),f=b.getFullYear(),g=b.getMonth(),h=b.getDate();return c==f&&d==g&&e==h},_days:{mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0},_dayOfWeekInDisabled:function(a){var b=this._options.disabledDayOfWeek,c=this._days,d=!1,e=0,f;for(;e<b.length;e++){f=b[e],typeof f=="object"?(c[f.start]||0)<=a&&a<=c[f.end]&&(d=!0):c[f]==a&&(d=!0);if(d)break}return d},_datesContains:function(a,b){var c=this,d=0,e=a.length,f,g=!0;if(baidu.type(b)!="date")return;for(;d<e;d++){f=a[d];if(baidu.lang.isDate(f)){if(c._datesEqual(f,b))return!0}else{f.end&&(f.end=new Date(baidu.date.format(f.end,"yyyy/MM/dd")+" 23:59:59"));if((!f.start||b.getTime()>=f.start.getTime())&&(!f.end||b.getTime()<=f.end.getTime()))return!0}}return!1},go:function(a,b){var c=this;c.currentDate.setFullYear(a),c.currentDate.setDate(1),b=b===undefined?c.currentDate.getMonth():b-1,c.currentDate.setMonth(b),c._rerender()},getDate:function(){return new Date(this.selectedDate)},setDate:function(a){var b=this,c=new Date(a);if(baidu.type(a)!="date")return!1;if(b._datesContains(b._options.disabledDates,c))return;if(b._dayOfWeekInDisabled(c.getDay()))return;return b.currentDate=new Date(a),b.selectedDate=new Date(a),b._rerender(),!0},preMonth:function(){var a=this,b=a.currentDate,c=b.getMonth()+1,d=b.getFullYear();a.go(d,c-1)},nextMonth:function(){var a=this,b=a.currentDate,c=b.getMonth()+1,d=b.getFullYear();a.go(d,c+1)},preYear:function(){var a=this,b=a.currentDate;a.go(b.getFullYear()-1,b.getMonth()+1)},nextYear:function(){var a=this,b=a.currentDate;a.go(b.getFullYear()+1,b.getMonth()+1)},_preDay:function(){var a=this,b=new Date(a.selectedDate);b.setDate(b.getDate()-1),a.setDate(b),a.fire("selectdate",{date:b})},_nextDay:function(){var a=this,b=new Date(a.selectedDate);b.setDate(b.getDate()+1),a.setDate(b),a.fire("selectdate",{date:b})},$dispose:function(){var a=this;if(a.disposed)return;a.container.removeChild(baidu("#"+a._getId())[0]),magic.Base.prototype.$dispose.call(a)}}),magic.control.DatePicker=baidu.lang.createClass(function(a){var b=this;b._options=a,b.language=a.language||"zh-CN",b.format=a.format||baidu.i18n.cultures[b.language].calendar.dateFormat||"yyyy-MM-dd HH:mm:ss",b.popupOption=baidu.object.merge({autoHide:!1,autoTurn:!1,disposeOnHide:!1},a.popupOptions),b.calendarOption=baidu.object.merge({},a.calendarOptions),b.calendarOption.language=b.language,b.showing=!1},{type:"magic.control.DatePicker",superClass:magic.Base}).extend({init:function(){function e(){a.show()}function f(b){var e=baidu.event(b).target,f=c.getElement("calendar");e!=d&&!baidu.dom.contains(f,e)&&f!=e&&a.hide()}var a=this,b=a.popup=new magic.Popup(a.popupOption),c=a.calendar=new magic.Calendar(a.calendarOption),d=a.input=a.getElement("input");a._options.title&&a._options.title.enable&&a.init$title(),c.render(b.getElement("content")),a.calendar.on("selectdate",function(b,c){d.value=baidu.date.format(b.date,a.format),(!c||!c.ignoreHide)&&a.hide(),a.fire("selectdate",{date:new Date(b.date)})}),baidu(d).on("click focus",e),"oninput"in document.body||(d.onpropertychange=function(){if(a.disposed)return;event.propertyName=="value"&&this.oninput&&this.oninput(event)}),d.oninput=function(){if(a.disposed)return;a._getInputDate()&&a.calendar.setDate(a._getInputDate())},baidu(document).on("click",f),a.on("dispose",function(){baidu(d).off("click",e),baidu(d).off("focus",e),baidu(document).off("click",f)}),a.$mappingDom("calendar",c.getElement("calendar"))},show:function(){var a=this,b=new Date;if(a.showing)return;a.showing=!0,a.calendar.setDate(a._getInputDate()||a.calendarOption.initDate||new Date),a.popup.attach(a.input,{offsetY:a.popupOption.offsetY||-1,offsetX:a.popupOption.offsetX||0}),a.fire("show")},hide:function(){var a=this;if(!a.showing)return;a.showing=!1,a.popup.hide(),a.fire("hide")},getDate:function(){return new Date},getSelectedDate:function(){return new Date(this.calendar.getDate())},_getInputDate:function(){var a=this,b=a.input.value,c=[/yyyy|yy/,/M{1,2}/,/d{1,2}/,/H{1,2}/,/m{1,2}/,/s{1,2}/],d=c.length,e=[],f,g,h;if(!b)return;for(var i=0;i<d;i++)if(f=c[i].exec(a.format))g=f.index,e[i]=b.substring(g,g+f[0].length);h=new Date(e[0],e[1]-1,e[2],e[3]||null,e[4]||null,e[5]||null);if(baidu.lang.isDate(h))return h;return},$dispose:function(){var a=this;if(a.disposed)return;a.calendar.$dispose(),a.popup.$dispose(),magic.Base.prototype.$dispose.call(a)}}),magic.setup.datePicker=function(a,b){baidu.type(a)==="string"&&(a="#"+a);var a=baidu(a)[0],c=magic.setup(a,magic.control.DatePicker,b);return c.$mappingDom("input",a),c.init(),c},baidu.lang.register(magic.control.DatePicker,function(){var a=this;a._options.title=baidu.object.extend({enable:!0},a._options.title);if(!a._options.title.enable)return;a.init$title=function(){var b=a.calendar;b.on("titlerender",function(){var a=baidu("#"+b._getId("year"))[0],c=baidu("#"+b._getId("month"))[0],d=baidu("#"+b._getId("yearselect"))[0],e=baidu("#"+b._getId("monthselect"))[0],f,g;baidu(a).on("click",function(){f=b.currentDate.getFullYear()-10,baidu(a).css("display","none"),baidu(d).css("display","");while(f<=b.currentDate.getFullYear()+10)g=document.createElement("option"),g.value=f,g.text=String(f),g.innerText=String(f),d.appendChild(g),f++;d.value=b.currentDate.getFullYear()}),baidu(c).on("click",function(){baidu(c).css("display","none"),baidu(e).css("display","");for(var a=1;a<13;a++)g=document.createElement("option"),g.value=a,g.text=baidu.i18n.cultures[b._options.language].calendar.monthNamesShort[a-1],g.innerText=baidu.i18n.cultures[b._options.language].calendar.monthNamesShort[a-1],e.appendChild(g);e.value=b.currentDate.getMonth()+1}),baidu(d).on("change",function(a){var c=a.target.value;b.go(c,b.currentDate.getMonth()+1)}),baidu(e).on("change",function(a){var c=a.target.value;b.go(b.currentDate.getFullYear(),c)})}),b.tplTitle='<span id="#{id}" class="#{class}" style="cursor:pointer;">#{text}</span>',b._renderTitle=function(){var a=b.currentDate,c=a.getFullYear(),d=a.getMonth()+1,e="",f="",g='<select id="'+b._getId("yearselect")+'" style="display:none"></select>',h='<select id="'+b._getId("monthselect")+'" style="display:none"></select>',i=baidu.i18n.cultures[b._options.language].calendar.titleNames;i=i.split("&nbsp;"),/y/.test(i[0])?(e=baidu.string.format(i[0],{yyyy:c}),f=baidu.string.format(i[1],{MM:baidu.i18n.cultures[b._options.language].calendar.monthNamesShort[d-1]}),this.titleEl.innerHTML=baidu.string.format(b.tplTitle,{id:b._getId("year"),"class":b._getClass("year"),text:e})+g+"&nbsp;&nbsp;"+baidu.string.format(b.tplTitle,{id:b._getId("month"),"class":b._getClass("month"),text:f})+h):(e=baidu.string.format(i[1],{yyyy:c}),f=baidu.string.format(i[0],{MM:baidu.i18n.cultures[b._options.language].calendar.monthNamesShort[d-1]}),this.titleEl.innerHTML=baidu.string.format(b.tplTitle,{id:b._getId("month"),"class":b._getClass("month"),text:f})+h+"&nbsp;&nbsp;"+baidu.string.format(b.tplTitle,{id:b._getId("year"),"class":b._getClass("year"),text:e})+g),b.fire("titlerender")}}},{}),baidu.array.extend({remove:function(a){var b=this.length;while(b--)this[b]===a&&this.splice(b,1);return this}}),void function(){var a="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave mousewheel change select submit keydown keypress keyup error contextmenu".split(" "),b={},c=function(a){b[a]=function(b,c){return c==null&&(c=b,b=null),arguments.length>0?this.on(a,null,b,c):this.trigger(a)}};for(var d=0,e=a.length;d<e;d++)c(a[d]);baidu.dom.extend(b)}(),baidu.dom.extend({text:function(a){var b=baidu.dom,c=this,d=!1,e;if(this.size()<=0)switch(typeof a){case"undefined":return undefined;default:return c}var f=function(a){var b,c="",d=0,e=a.nodeType;if(e)if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(e===3||e===4)return a.nodeValue;return c};return baidu.forEach(c,function(c,g){var h=b(c);if(e)return;switch(typeof a){case"undefined":return e=f(c),e;case"number":a=String(a);case"string":d=!0,h.empty().append((c&&c.ownerDocument||document).createTextNode(a));break;case"function":d=!0,h.text(a.call(c,g,h.text()))}}),d?c:e}}),magic.control.ComboBox=baidu.lang.createClass(function(a){var b=this;b._options=baidu.object.extend({items:[],originIndex:-1,readonly:!1,viewSize:5,disabled:!1,width:"100%"},a),b.selectValue="",b.highlightIndex=-1,b.menu=new magic.Popup,b.isFocus=!1,b.disabled=this._options.disabled,b.tempValue="",b.menufocusing=!1,magic.control.ComboBox.instanceArray||(magic.control.ComboBox.instanceArray=[]),magic.control.ComboBox.instanceArray.push(b.guid),b.on("load",function(){b.setWidth(b._options.width),b.menu._host=b.getElement("container"),b.menu.offsetY=-1,b.menu.setContent(b._menuContainerToHTMLString()),this._renderMenu(),b.menu.on("show",function(){b.fire("show")}),b.menu.on("beforeshow",function(a){a.returnValue=b.fire("beforeshow")}),b.menu.on("beforehide",function(a){a.returnValue=b.fire("beforehide")}),b.menu.on("hide",function(){b.fire("hide")}),baidu(b.getElement("input-container")).keydown(function(){!b.disabled&&(magic.control.ComboBox.globalActive=b.guid)}),baidu(b.getElement("input-container")).click(function(){!b.disabled&&(magic.control.ComboBox.globalActive=b.guid)}),b._options.readonly?baidu(b.getElement("input-container")).click(function(){b.getElement("arrow").focus(),!b.disabled&&b.menu.show()}):(baidu(b.getElement("arrow")).click(function(){this.focus(),!b.disabled&&b.menu.show()}),baidu(b.getElement("input")).keydown(function(a){b._keydownHandler(a)})),baidu(b.getElement("arrow")).keydown(function(a){a.preventDefault(),b._keydownHandler(a)}),b.disabled&&(baidu(b.getElement("container")).addClass("magic-combobox-disable"),b.getElement("input").disabled=!0),b._initInput(),baidu(this.getElement("menu")).click(function(a){magic.control.ComboBox.globalActive=b.guid;var c=a.target;if(c==this)return;while(c.tagName!="LI")c=c.parentNode;b.$confirm(c),b.fire("clickitem",{result:b._getResult(c)})}),baidu(this.getElement("menu")).mouseover(function(a){b.$clearHighlight();var c=a.target;if(c==this)return;while(c.tagName!="LI")c=c.parentNode;b.$highlight(c)})}),b.on("show",function(){b._setViewSize()}),b.on("hide",function(){b.menufocusing=!1}),b.on("focus",function(){b.isFocus=!0}),b.on("blur",function(){b.isFocus=!1}),b.on("highlight",function(a){b.highlightIndex=a.index}),b.on("beforeshow",function(a){b._options.items.length==0&&(a.returnValue=!1)})},{type:"magic.control.ComboBox",superClass:magic.Base}).extend({_initInput:function(){var a=this._options.originIndex;this._options.readonly&&a==-1&&(a=0),a!=-1?this.$setByIndex(a):this.selectValue=this.getElement("input").value=""},_setViewSize:function(){baidu(this.getElement("menu")).css("height","");var a=baidu(".magic-combobox-menu-item",this.getElement("menu"))[0].offsetHeight*this._options.viewSize,b=this.getElement("menu").offsetHeight,c=b>a?a:b;baidu(this.getElement("menu")).css("height",c)},_renderMenu:function(a){var b=this;a=a||this._options.items;var c=this.$menuContentToHTMLString(a);this.getElement("menu").innerHTML=c,baidu(b.menu.getElement()).addClass("magic-combobox-popup")},_keydownHandler:function(a){var b=38,c=40,d=13,e=baidu(".magic-combobox-menu-item",this.getElement("menu")),f=e.length;if(a.keyCode==d)this.menu.visible&&this.$confirm(e[this.highlightIndex]);else if(a.keyCode==c||a.keyCode==b)this.menu.visible||this.menu.show(),this.menufocusing||(this.menufocusing=!0,this.tempValue=this.getElement("input").value);a.keyCode==c?(this.$clearHighlight(),++this.highlightIndex==f?(this.highlightIndex=-1,this.getElement("input").value=this.tempValue,this.fire("pickOrigin",{content:this.tempValue})):this.$menufocus(e[this.highlightIndex])):a.keyCode==b&&(a.preventDefault(),this.$clearHighlight(),this.highlightIndex==-1&&(this.highlightIndex=f),--this.highlightIndex==-1?(this.getElement("input").value=this.tempValue,this.fire("pickOrigin",{content:this.tempValue})):this.$menufocus(e[this.highlightIndex]))},_getResult:function(a){return{value:baidu(a).attr("data-value"),index:baidu(a).attr("data-index"
),content:baidu(a).text()}},_getValue:function(a){var b=this._options.items,c=b.length;while(c--)if(b[c].content==a)return b[c].value+"";return null},$pick:function(a){var b=this._getResult(a);return this.fire("beforepick")&&(this.getElement("input").value=b.content,this.fire("pick",{result:b})),b},$menufocus:function(a){this.$highlight(a);var b=this.$pick(a);return this.fire("menufocus",{result:b}),b},$confirm:function(a){var b=a?this.$pick(a):{result:this.tempValue};return this.menu.hide(),this.fire("confirm",{result:b}),this.selectValue!=b.value&&this.fire("change",{from:"confirm",result:b}),this.selectValue=b.value,b},$highlight:function(a){baidu(a).addClass("magic-combobox-menu-item-hover");var b=baidu(a).attr("data-index");this.fire("highlight",{index:b})},$clearHighlight:function(){var a=baidu(".magic-combobox-menu-item",this.getElement("menu"));a.removeClass("magic-combobox-menu-item-hover")},getValue:function(){return this.selectValue||this._getValue(this.getElement("input").value)||this.getElement("input").value},getSelectIndex:function(){for(var a=this._options.items,b=a.length;b--;)if(a[b].value+""===this.selectValue)return b;return-1},setByValue:function(a){for(var b=this._options.items,c=b.length;c--;)if(b[c].value==a){this.selectValue=a,this.getElement("input").value=b[c].content,this.select&&(this.select.options[c].selected=!0);break}},$setByIndex:function(a){var b=this._options.items[a]||this._options.items[0];this.getElement("input").value=b.content,this.selectValue=b.value,this.select&&(this.select.options[a].selected=!0)},focus:function(){this.isFocus||this.fire("focus")},blur:function(){if(this.isFocus){var a=this._getValue(this.getElement("input").value);a=a?a:this.getElement("input").value,a!=this.selectValue&&(this.fire("change",{from:"blur"}),this.selectValue=a),this.fire("blur")}},reset:function(){this._initInput();if(this.select){var a=this._options.originIndex==-1?0:this._options.originIndex;this.select.options[a].selected=!0}},reload:function(a){this._options.items=a,this._renderMenu(),this._initInput(),this.highlightIndex=-1,this.fire("reload",{data:a})},disable:function(){this.disabled||(baidu(this.getElement("container")).addClass("magic-combobox-disable"),this.getElement("input").disabled=!0,this.disabled=!0)},enable:function(){this.disabled&&(baidu(this.getElement("container")).removeClass("magic-combobox-disable"),this.getElement("input").disabled=!1,this.disabled=!1)},setWidth:function(a){this.width=a,baidu(this.getElement("container")).css("width",a),this.menu.setWidth(this.getElement("container").offsetWidth)},$dispose:function(){baidu(this.getElement("input-container")).off("click").off("keydown"),baidu(this.getElement("input")).off("keydown").off("keyup"),baidu(this.getElement("arrow")).off("click").off("keydown"),baidu(this.getElement("menu")).off("click").off("mouseover").off("mouseout"),this.menu.hide(),this.menu.$dispose(),baidu.array(magic.control.ComboBox.instanceArray).remove(this.guid),magic.Base.prototype.$dispose.call(this)}}),function(){function a(){var a=magic.control.ComboBox.globalActive;if(a!=null){var b=baiduInstance(a);b.focus()}var c=magic.control.ComboBox.instanceArray;if(c){for(var d=c.length;d--;){if(c[d]==a)continue;var e=baiduInstance(c[d]);if(e.isFocus){e.blur();break}}magic.control.ComboBox.globalActive=null}}magic.control.ComboBox.globalActive=null,baidu(document).click(a).keydown(a)}(),magic.ComboBox=baidu.lang.createClass(function(a){},{type:"magic.ComboBox",superClass:magic.control.ComboBox}).extend({$toHTMLString:function(){return['<div id="'+this.$getId("container")+'" class="magic-combobox">','<div id="'+this.$getId("input-container")+'" class="magic-combobox-input-container clearfix">','<div class="magic-combobox-input-outter">','<div class="magic-combobox-input-inner">','<input id="'+this.$getId("input")+'" class="magic-combobox-input"'+(this._options.readonly?"readonly":"")+">","</div>","</div>",'<a href="#" id="'+this.$getId("arrow")+'" class="magic-combobox-arrow" onclick="return false"></a>',"</div>","</div>"].join("")},_menuContainerToHTMLString:function(){return'<ul id="'+this.$getId("menu")+'" class="magic-combobox-menu"></ul>'},$menuContentToHTMLString:function(a){var b=[];return baidu(a).each(function(c,d){b.push('<li data-index="'+c+'" data-value="'+a[c].value+'" class="magic-combobox-menu-item">'+a[c].content+"</li>")}),b.join("")},render:function(a){baidu(a).append(this.$toHTMLString(this._options.items)),this.fire("load")},$dispose:function(){if(this.disposed)return;if(this.select)var a=this.select,b=a.parentNode;var c=this.getElement("container");magic.control.ComboBox.prototype.$dispose.call(this),baidu(c).remove(),a&&(b.parentNode.insertBefore(a,b),baidu(b).remove(),a.style.visibility="",a.style.width=""),c=null}}),baidu.dom.getAttr=function(a,b){return baidu.dom(baidu.dom.g(a)).attr(b)},baidu.dom.extend({before:function(){baidu.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.before");var a=this[0]&&this[0].parentNode,b=!a&&[],c;return baidu._util_.smartInsert(this,arguments,function(c){a?a.insertBefore(c,this):baidu.merge(b,c.childNodes)}),b&&(b=baidu.merge(b,this),this.length=0,baidu.merge(this,b)),this}}),function(){function a(a){var b=[],c=-1,d=a.options;return baidu.each(d,function(a,d){b.push({value:d.value,content:d.text}),d.selected&&(c=a)}),{items:b,originIndex:c}}magic.setup.comboBox=function(b,c){c=c||{};var b=baidu.dom(b).get(0),d=a(b),e=null;baidu.object.extend(d,{width:b.offsetWidth+10,disabled:b.disabled}),c=baidu.object.extend(d,c);var f=magic.setup(b,magic.ComboBox,c);baidu.dom(b).before('<span id="'+f.guid+'-host" class="magic-combobox-host"></span>');var g=baidu("#"+f.guid+"-host");return g.append(b),f.select=b,b.style.width=b.offsetWidth+15+"px",b.style.visibility="hidden",f.render(g,"afterBegin"),baidu(f.getElement("container")).addClass("magic-combobox-container-setup"),f.on("change",function(a){if(a.from=="confirm")a.result.index&&(b.options[a.result.index].selected=!0);else if(a.from=="blur"){var c=this.getElement("input").value;e||(e=document.createElement("OPTION"),e.selected=!0,b.add(e)),e.value=e.text=c}}),f.on("reload",function(a){var c=a.data,d=c.length,e=0;b.options.length=0;for(;e<d;e++){var f=document.createElement("OPTION");f.value=c[e].value,f.text=c[e].content,b.add(f)}}),f}}(),baidu.array.extend({filter:function(a,b){var c=baidu.array([]),d,e,f,g=0;if(baidu.type(a)==="function")for(d=0,e=this.length;d<e;d++)f=this[d],a.call(b||this,f,d,this)===!0&&(c[g++]=f);return c}}),baidu.array.filter=function(a,b,c){return baidu.isArray(a)?baidu.array(a).filter(b,c):[]},function(){var a=baidu.lang.createClass(function(a){var b=this;b._options=baidu.object.extend({circleTime:10,waitingTime:100,originValue:"",getValue:function(){return null}},a),b.previous=null,b.now="",b.fireTimer=0,b.timer=0,b.originValue=b._options.originValue,b.focusValue=null}).extend({_compare:function(a){if(!this.timer)return;a.now=a._options.getValue(),a.now==a.previous&&a.focusValue!=a.now&&a.now!=a.originValue?a.fireTimer==0&&(a.fireTimer=setTimeout(function(){a.fire("fire",{value:a.now})},a._options.waitingTime)):(clearTimeout(a.fireTimer),a.fireTimer=0,a.previous=a.now,a.now!=a.originValue&&(a.originValue=null),a.now!=a.focusValue&&(a.focusValue=null))},start:function(){var a=this;a.timer=setInterval(function(){a._compare(a)},a._options.circleTime)},stop:function(){clearInterval(this.timer),this.timer=null}});baidu.lang.register(magic.control.ComboBox,function(b){var c=this;c._options.suggestion=baidu.object.extend({enable:!0},b.suggestion);if(!c._options.suggestion.enable||c._options.readonly)return;this.on("load",function(){c.timer=new a({getValue:function(){return c.getElement("input").value},originValue:this.getElement("input").value}),c.timer.on("fire",function(a){if(a.value=="")c._renderMenu(),c.menu.show();else{var b=c._getMenuData(a.value);b.length>0?(c._renderMenu(b),c.menu.show()):c.menu.visible&&c.menu.hide()}}),c.timer.start()}),this.on("pick",function(a){c.timer.focusValue=a.result.content}),this.on("pickOrigin",function(a){c.timer.focusValue=a.content}),this.on("reload",function(a){c.timer.focusValue=this.getElement("input").value}),this.on("dispose",function(a){c.timer&&c.timer.stop()})},{_getMenuData:function(a){return baidu.array(this._options.items).filter(function(b,c){return b.content.indexOf(a)!=-1})}})}(),baidu.dom.getStyle=function(a,b){return baidu.dom(baidu.dom.g(a)).css(b)},baidu.page.getScrollLeft=function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft},function(){baidu.page.getMousePosition=function(){return{x:baidu.page.getScrollLeft()+a.x,y:baidu.page.getScrollTop()+a.y}};var a={x:0,y:0};baidu.event.on(document,"onmousemove",function(b){b=window.event||b,a.x=b.clientX,a.y=b.clientY})}(),function(){function l(){a=!1,clearInterval(f),c.capture&&b.releaseCapture?b.releaseCapture():c.capture&&window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP),document.body.style.MozUserSelect=k;var d=baidu.dom(document);d.off("selectstart",n),c.autoStop&&d.off("mouseup",l),baidu.isFunction(c.ondragend)&&c.ondragend(b,c,{left:i,top:j})}function m(k){if(!a){clearInterval(f);return}var l=c.range||[],m=baidu.page.getMousePosition(),n=g+m.x-d,o=h+m.y-e;baidu.isObject(l)&&l.length==4&&(n=Math.max(l[3],n),n=Math.min(l[1]-b.offsetWidth,n),o=Math.max(l[0],o),o=Math.min(l[2]-b.offsetHeight,o)),b.style.left=n+"px",b.style.top=o+"px",i=n,j=o,baidu.isFunction(c.ondrag)&&c.ondrag(b,c,{left:i,top:j})}function n(a){return baidu.event.preventDefault(a,!1)}var a=!1,b,c,d,e,f,g,h,i,j,k;baidu.dom.drag=function(o,p){if(!(b=baidu.dom.g(o)))return!1;c=baidu.object.extend({autoStop:!0,capture:!0,interval:16},p),i=g=parseInt(baidu.dom.getStyle(b,"left"))||0,j=h=parseInt(baidu.dom.getStyle(b,"top"))||0,a=!0,setTimeout(function(){var a=baidu.page.getMousePosition();d=c.mouseEvent?baidu.page.getScrollLeft()+c.mouseEvent.clientX:a.x,e=c.mouseEvent?baidu.page.getScrollTop()+c.mouseEvent.clientY:a.y,clearInterval(f),f=setInterval(m,c.interval)},1);var q=baidu.dom(document);return c.autoStop&&q.on("mouseup",l),q.on("selectstart",n),c.capture&&b.setCapture?b.setCapture():c.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),k=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",baidu.isFunction(c.ondragstart)&&c.ondragstart(b,c),{stop:l,dispose:l,update:function(a){baidu.object.extend(c,a)}}}}(),baidu.page.getWidth=function(){var a=document,b=a.body,c=a.documentElement,d=a.compatMode=="BackCompat"?b:a.documentElement;return Math.max(c.scrollWidth,b.scrollWidth,d.clientWidth)},baidu.page.getHeight=function(){var a=document,b=a.body,c=a.documentElement,d=a.compatMode=="BackCompat"?b:a.documentElement;return Math.max(c.scrollHeight,b.scrollHeight,d.clientHeight)},magic.control.Dialog=baidu.lang.createClass(function(a){var b=this;a=baidu.object.extend({width:400,height:300,left:0,top:0,contentType:"html",draggable:!0},a||{}),baidu.object.extend(b._options||(b._options={}),a),b._footerHeight=0,a.width<100&&(a.width=100),a.height<100&&(a.height=100),this.zIndex=baidu.global.getZIndex("dialog",5),this.disposeProcess=[],this.on("load",function(){var a=this.getElement(),b=this,c=b._options;(typeof c.left=="number"||typeof c.top=="number")&&this.setPosition(c),(typeof c.width=="number"||typeof c.height=="number")&&this.setSize(this._options),this._isShown=!0,this.focus();var d=function(a){b.focus(a)};baidu(document).on("mousedown",d),this.disposeProcess.unshift(function(){baidu(document).off("mousedown",d)});if(c.draggable){var e=this.getElement("title"),f,g=baidu.fn.bind,b=this,h=a.parentNode,i=baidu(h).position();e.className+=" tang-title-dragable";var j={top:function(){var a=baidu(h).css("borderTopWidth");return/px/.test(a)?a=parseInt(a):a=0,h==document.body?0-a:0-(i.top+a)},right:function(){var b=baidu(".tang-background-inner",a)[0],c=baidu(b).css("marginLeft")=="auto"?b.offsetLeft+"px":baidu(b).css("marginLeft");return baidu.page.getWidth()+j.left()-parseInt(c)},bottom:function(){var b=baidu(".tang-background-inner",a)[0],c=baidu(b).css("marginTop")=="auto"?b.offsetTop+"px":baidu(b).css("marginTop");return baidu.page.getHeight()+j.top()-parseInt(c)},left:function(){var a=baidu(h).css("borderLeftWidth");return/px/.test(a)?a=parseInt(a):a=0,h==document.body?0-a:0-(i.top+a)}};baidu(e).on("mousedown",f=g(function(b){b.preventDefault(),baidu.dom.drag(a,{ondragstart:g(function(){this.fire("dragstart")},this),ondrag:g(function(){this.fire("drag")},this),ondragend:g(function(){this.fire("dragstop")},this),range:[j.top(),j.right(),j.bottom(),j.left()]})},this)),this.disposeProcess.unshift(function(){baidu(e).off("mousedown",f)})}}),this.on("resize",function(a,b){var c=this.getElement("titleText"),d=this.getElement("titleButtons");typeof b.width=="number"&&baidu(c).css("width",Math.max(0,b.width-d.clientWidth-20)+"px")})},{type:"magic.control.Dialog",superClass:magic.Base}),magic.control.Dialog.extend({isShowing:function(){return this._isShown},show:function(){if(this.fire("beforeshow")===!1)return this;this.getElement().style.display="",this._isShown=!0,this.fire("show")},hide:function(){if(this.fire("beforehide")===!1)return this;this._isShown=!1,this.getElement().style.display="none",this.fire("hide")},setTitleText:function(a){var b=this.getElement("titleText");return b.innerHTML=baidu.string.encodeHTML(a)||"&nbsp;",this},setContent:function(a,b){var c=this.getElement("content"),d,e,f;if(d=this._lastDom){f=d.parent;if(d.content===a)return this;d.target?f.insertBefore(d.content,d.target):f.appendChild(d.content),this._lastDom=null}switch(b){case"text":c.innerHTML=baidu.string.encodeHTML(a),baidu(c).removeClass("contentFrame");break;case"element":if(f=a.parentNode)f.insertBefore(e=document.createTextNode(""),a),this._lastDom={content:a,parent:a.parentNode,target:e};c.innerHTML="",c.appendChild(a);break;case"frame":baidu(c).css("height",baidu(this.getElement("body")).css("height")),c.innerHTML="<iframe frameborder='no' src='"+a+"'></iframe>",baidu(c).hasClass("contentFrame")||baidu(c).addClass("contentFrame");break;default:c.innerHTML=a,baidu(c).removeClass("contentFrame")}return this},focus:function(a){var b=baidu.global.get("dialogFocused").map,c=this.$getId()+"focus",d=function(){for(var a in b)a!=c&&(b[a]=!1)};b||(baidu.global.get("dialogFocused").map=b={});if(arguments.length){var e=a.target;baidu(e).closest(this.getElement()).size()>0?(baidu(this.getElement()).css("zIndex",this.zIndex=baidu.global.getZIndex("dialog",5)),b[c]!=1&&(this.fire("focus"),d(),b[c]=!0)):b[c]=!1}else baidu(this.getElement()).css("zIndex",this.zIndex=baidu.global.getZIndex("dialog",5)),b[c]=!0,d(),this.fire("focus")},setSize:function(a){var b=this.getElement("foreground");typeof a.width=="number"&&baidu(b).css("width",(this._options.width=a.width)+"px");if(typeof a.height=="number"){baidu(b).css("height",(this._options.height=a.height)+"px");var c=Math.max(0,this._options.height-this._titleHeight-this._footerHeight)+"px",d=baidu(this.getElement("content"));baidu(this.getElement("body")).css("height",c),d.hasClass("contentFrame")&&d.css("height",c)}this.fire("resize",a)},getSize:function(){return{width:this._options.width,height:this._options.height}},setPosition:function(a){typeof a.left=="number"&&baidu(this.getElement()).css("left",(this._options.left=a.left)+"px"),typeof a.top=="number"&&baidu(this.getElement()).css("top",(this._options.top=a.top)+"px"),this.fire("move",a)},getPosition:function(){return{left:this._options.left,top:this._options.top}},center:function(){var a=document[baidu.browser.isStrict?"documentElement":"body"],b=a.clientWidth,c=a.clientHeight,d=((b-this._options.width)/2|0)+baidu.page.getScrollLeft(),e=((c-this._options.height)/2|0)+baidu.page.getScrollTop();this.setPosition({left:d,top:e})},$dispose:function(){var a=baidu.global.get("dialogFocused").map;a&&delete a[this.$getId()+"focus"];for(var b=0,c=this.disposeProcess.length;b<c;b++)this.disposeProcess[b].call(this);magic.Base.prototype.$dispose.call(this)}}),baidu.dom.extend({show:function(){function b(b){if(a[b])return a[b];var c=document.createElement(b),d,e,f;document.body.appendChild(c),d=baidu.dom(c).getCurrentStyle("display"),document.body.removeChild(c);if(d===""||d==="none")e=document.body.appendChild(document.createElement("iframe")),e.frameBorder=e.width=e.height=0,f=(e.contentWindow||e.contentDocument).document,f.writeln("<!DOCTYPE html><html><body>"),f.close(),c=f.appendChild(f.createElement(b)),d=baidu.dom(c).getCurrentStyle("display"),document.body.removeChild(e),e=null;return c=null,a[b]=d}var a={};return function(){var c;return this.each(function(d,e){if(!e.style)return;e.style.display="",c=baidu.dom(e);if(c.getCurrentStyle("display")==="none"||!baidu._util_.contains(c.getDocument(),e))e.style.display=a[e.nodeName]||b(e.nodeName)}),this}}()}),baidu.object.isPlain=baidu.isPlainObject,baidu.fn.blank=function(){},baidu.page.getViewWidth=function(){var a=document,b=a.compatMode=="BackCompat"?a.body:a.documentElement;return b.clientWidth},magic.Dialog=baidu.lang.createClass(function(a){},{type:"magic.Dialog",superClass:magic.control.Dialog}),magic.Dialog.extend({render:function(a){baidu.type(a)==="string"&&(a="#"+a),a=baidu(a)[0],a||document.body.appendChild(a=document.createElement("div"));var b=magic.Dialog.template.join(""),c=this._options;baidu(a).addClass("tang-ui tang-dialog").css("display","block"),baidu(a).append(baidu.string.format(b,{content:"",titleId:this.$getId("title"),bodyId:this.$getId("body"),contentId:this.$getId("content"),foregroundId:this.$getId("foreground"),footerId:this.$getId("footer"),footerContainerId:this.$getId("footerContainer")})),this._background=new magic.Background({coverable:!0}),this._background.render(a),this.$mappingDom("",a),this._renderHeader(),this._titleHeight=this.getElement("title").offsetHeight||30,baidu(this.getElement("footer")).hide(),this.fire("footer"),this.setSize(c),this.setPosition(c),c.content&&this.setContent(c.content,c.contentType),this.fire("load"),this.show(),this.disposeProcess.push(function(){baidu(this.getElement("closeBtn")).off("click",this._closeBtnFn),this._background.$dispose(),a.innerHTML="",baidu(a).removeClass("tang-ui tang-dialog")})},_renderHeader:function(){var a=["<div class='buttons' id='",this.$getId("titleButtons"),"'>","<a id='",this.$getId("closeBtn"),"' class='close-btn' href='' onmousedown='event.stopPropagation && event.stopPropagation(); event.cancelBubble = true; return false;' onclick='return false;'></a>","</div>","<span id='",this.$getId("titleText"),"'>",baidu.string.encodeHTML(this._options.titleText||"")||"&nbsp;","</span>"];baidu(this.getElement("title")).append(a.join("")),baidu(this.getElement("closeBtn")).on("click",this._closeBtnFn=baidu.fn.bind(this.hide,this))}}),magic.Dialog.template=["<div class='tang-foreground' id='#{foregroundId}'>","<div class='tang-title' id='#{titleId}'>","</div>","<div class='tang-body' id='#{bodyId}'>","<div class='tang-content' id='#{contentId}'>#{content}</div>","</div>","<div class='tang-footer' id='#{footerId}'>","<div id='#{footerContainerId}'></div>","</div>","</div>"],baidu.lang.register(magic.control.Dialog,function(a){a&&a.buttons&&a.buttons.enable&&this.on("footer",function(){this.buttons=null,baidu(this.getElement("footer")).show(),this._createButton(a.buttons),baidu(this.getElement("footerContainer")).addClass("tang-footerContainer");var b=this.getElement("footer").offsetHeight;(!this.buttons||this.buttons.length==0)&&(b=30)&&baidu(this.getElement("footer")).css("height",30),this._footerHeight=b})},{_createButton:function(){var a=this,b=arguments.length>0?arguments[0]:{},c=baidu(a.getElement("footerContainer")),d=a.buttons||(a.buttons=[]),e=!1,f=function(){var a=['<a href="#" onClick="return false;" class="tang-dialog-button ',"",'">','<span class="tang-dialog-button-s">','<span class="tang-dialog-button-s-space">&nbsp;</span>','<span class="tang-dialog-button-s-text">',"","</span>","</span>","</a>"];return function(b,c){return b.disabled?a[1]="tang-dialog-button-disabled":a[1]="",a[6]=b.text||"&nbsp;",baidu(c).append(a.join("")),baidu(c).children().get(0)}}();baidu.forEach(b.items||[],function(b,g){var h,i;c.append(i=baidu('<span class="tang-dialog-button-carrier"></span>')[0]),i=typeof b=="object"?(b.builder||f).call(this,b,i,a,g):b,!e&&b.focused&&!b.disabled&&(e=!0)&&i.focus(),d.push(i),b.disabled||b.click&&baidu(i).on("click",h=function(){b.click.call(this,a)}),h&&this.disposeProcess.push(function(){baidu(i).off("click",h)})},a),c.addClass("tang-button-"+(b.align||"right"))}}),function(){function b(){for(var b=0,c=a.length;b<c;b++)a[b]();a=[]}function c(){function d(){c.style.display="none",baidu(c).css("height",baidu.page.getViewHeight()+"px"),baidu(c).css("width",baidu.page.getViewWidth()+"px"),c.style.display=""}function e(){c.style.display="none",baidu(c).css("top",baidu.page.getScrollTop()+"px"),baidu(c).css("left",baidu.page.getScrollLeft()+"px"),c.style.display=""}var b=baidu.browser.ie,c=document.createElement("div");c.className="tang-mask",b==6&&baidu(c).css("position","absolute"),baidu(c).css("zIndex",baidu.global.getZIndex("dialog",-5)),document.body.appendChild(c),d(),b==6&&e(),baidu(window).on("resize",d),a.push(function(){baidu(window).off("resize",d)}),b==6&&baidu(window).on("scroll",e),b==6&&a.push(function(){baidu(window).off("scroll",e)}),a.push(function(){document.body.removeChild(c)})}var a=[];magic.Dialog.alert=function(){var d={},e={width:360,height:140,titleText:"",content:"",buttons:{enable:!0,items:[d]}},f={},g,h,i,j;baidu.object.isPlain(arguments[0])?f=arguments[0]:(arguments[0]&&(f.content=arguments[0]),arguments[1]&&(f.titleText=arguments[1]),arguments[2]&&(f.ok=arguments[2])),baidu.object.isPlain(f.ok)?(d.text=f.ok.label,g=f.ok.callback):(d.text=baidu.i18n.cultures[baidu.i18n.currentLocale].language.ok,g=f.ok),g||(g=baidu.fn.blank),f.ok=null,delete f.ok,baidu.object.extend(e,f||{});var k=new magic.Dialog(e);return d.click=function(){b(),g.call(k)},k.render(),k.center(),j=baidu("#"+k.$getId()),baidu(k.getElement("closeBtn")).on("click",h=function(){b(),g.call(k)}),a.push(function(){baidu(k.getElement("closeBtn")).off("click",h)}),baidu(document).on("keydown",i=function(a){a=a||window.event;switch(a.keyCode){case 27:d.click();break;case 13:a.preventDefault(),a.stopPropagation(),d.click();break;default:}}),a.push(function(){baidu(document).off("keydown",i)}),a.push(function(){k.$dispose()}),a.push(function(){document.body.removeChild(j[0])}),c(),k},magic.alert=magic.Dialog.alert,magic.Dialog.confirm=function(){var d={},e={},f={width:360,height:140,titleText:"",content:"",buttons:{enable:!0,items:[d,e]}},g={},h,i,j,k;baidu.object.isPlain(arguments[0])?g=arguments[0]:(arguments[0]&&(g.content=arguments[0]),arguments[1]&&(g.titleText=arguments[1]),arguments[2]&&(g.ok=arguments[2]),arguments[3]&&(g.cancel=arguments[3])),baidu.object.isPlain(g.ok)?(d.text=g.ok.label,h=g.ok.callback):(d.text=baidu.i18n.cultures[baidu.i18n.currentLocale].language.ok,h=g.ok),baidu.object.isPlain(g.cancel)?(e.text=g.cancel.label,i=g.cancel.callback):(e.text=baidu.i18n.cultures[baidu.i18n.currentLocale].language.cancel,i=g.cancel),h||(h=baidu.fn.blank),g.ok=null,delete g.ok,i||(i=baidu.fn.blank),g.cancel=null,delete g.cancel,baidu.object.extend(f,g||{});var l=new magic.Dialog(f);d.click=function(){h.call(l),b()},e.click=function(){i.call(l),b()},l.render(),l.center();var m=baidu("#"+l.$getId());return baidu(l.getElement("closeBtn")).on("click",j=function(){b(),i.call(l)}),a.push(function(){baidu(l.getElement("closeBtn")).off("click",j)}),baidu(document).on("keydown",k=function(a){a=a||window.event;switch(a.keyCode){case 27:e.click();break;case 13:a.preventDefault(),a.stopPropagation(),d.click();break;default:}}),a.push(function(){baidu(document).off("keydown",k)}),a.push(function(){l.$dispose()}),a.push(function(){document.body.removeChild(m[0])}),c(),l},magic.confirm=magic.Dialog.confirm}(),magic.setup.background=function(a,b){var c=b||{},d=magic.setup(baidu.dom(a).get(0)||a,magic.Background,c),e=d.getElement(),f=e.style,g=e.parentNode;return f.top="0px",f.left="0px",f.width=d.timer?"10px":"100%",f.height=d.timer?"10px":"100%",f.position="absolute",f.zIndex=-9,d.coverable&&baidu.dom(e).append(d._coverDom||""),g!=document.body&&baidu.dom(g).css("position")=="static"&&(g.style.position="relative"),d},magic.setup.dialog=function(a,b){baidu.type(a)==="string"&&(a="#"+a),a=baidu(a)[0];var c=b||{},d=magic.setup(a,magic.control.Dialog,c),e=d.getElement(),f=a.childNodes,g;for(var h=0,i=f.length;h<i;h++)if(f[h].nodeType!=3&&~f[h].className.indexOf("tang-background")){magic.setup.background(f[h],{coverable:!0});break}d.$mappingDom("title",baidu(".tang-title",e)[0]),d.$mappingDom("titleText",baidu("span",d.getElement("title"))[0]),d.$mappingDom("titleButtons",baidu(".buttons",d.getElement("title"))[0]),d.$mappingDom("body",baidu(".tang-body",e)[0]),d.$mappingDom("content",baidu(".content",d.getElement("body"))[0]),d.$mappingDom("closeBtn",baidu(".close-btn",d.getElement("title"))[0]),d.$mappingDom("foreground",baidu(".tang-foreground",e)[0]),d.$mappingDom("footer",(g=baidu(".tang-footer",e))[0]),d.$mappingDom("footerContainer",g.children()[0]),g.hide(),d._titleHeight=d.getElement("title").offsetHeight||30,d.fire("footer");var j=d._options;return typeof c.left=="undefined"&&(j.left=baidu(e).css("left")=="auto"?0:baidu(e).css("left")),typeof c.top=="undefined"&&(j.top=baidu(e).css("top")=="auto"?0:baidu(e).css("top")),typeof j.width!="number"&&(j.width=e.clientWidth),typeof j.height!="number"&&(j.height=e.clientHeight),j.width<100&&(j.width=100),j.height<100&&(j.height=100),d.fire("load"),d.show(),j.titleText&&d.setTitleText(j.titleText),j.content&&d.setContent(j.content,j.contentType||"html"),d},magic.Mask=function(a){function e(){if(b.container==document.body){var a=b.getElement().style;a.display="none",b.setSize([baidu.page.getViewWidth(),baidu.page.getViewHeight()]),a.display=""}}function f(){if(b.container==document.body){var a=b.getElement().style;a.display="none",a.top=baidu.page.getScrollTop()+"px",a.left=baidu.page.getScrollLeft()+"px",a.display=""}}function g(a){var b=document.getElementsByTagName("object"),c=a?"visible":"hidden";for(var d=0,e,f=b.length;d<f;d++)e=b[d],e.style.visibility=c}var b=this;magic.control.Layer.call(this),b.zIndex=999,b.opacity=.3,b.bgColor="#000000",b.coverable=!1,b.container=document.body,baidu.object.extend(b,a||{});var c=baidu.browser.safari,d=baidu.browser.ie;baidu.dom(b.container).prepend(b.toHTMLString()),d==6&&(b.getElement().style.position="absolute"),b.on("show",function(){e(),d==6&&f(),baidu.dom(window).on("resize",e),d==6&&baidu.dom(window).on("scroll",f);var a=b.getElement().style;a.opacity=b.opacity,a.zIndex=b.zIndex,a.filter="alpha(opacity="+b.opacity*100+")",a.backgroundColor=b.bgColor,c&&g(!1)}),b.on("hide",function(){baidu.dom(window).off("resize",e),d==6&&baidu.dom(window).off("scroll",f),c&&g(!0)})},baidu.lang.inherits(magic.Mask,magic.control.Layer,"magic.Mask").extend({toHTMLString:function(){return"<div id='"+this.$getId()+"' style='top:0px; left:0px; position:fixed; display:none;'>"+"<iframe frameborder='0' style='filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1' src='about:blank'></iframe><div style='position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1;'>&nbsp;</div>"+"</div>"},$dispose:function(){var a=this.getElement();a.parentNode.removeChild(a)}}),baidu.lang.register(magic.control.Dialog,function(a){a&&a.mask&&a.mask.enable&&(this.renderMask(),this.on("load",function(){this._options.left||this.center()}),this.on("show",function(){this.showMask()}),this.on("hide",function(){this.hideMask()}),this.disposeProcess.push(function(){this._mask.$dispose()}))},{renderMask:function(){if(this._mask)return this;var a=this._options.mask;return this._mask=new magic.Mask({opacity:a.opacity||.15,bgColor:a.bgColor||"#000",zIndex:this.zIndex-1}),this},showMask:function(){return this._mask.show(),this},hideMask:function(){return this._mask.hide(),this}}),baidu.event.stopPropagation=function(a){return(new baidu.event(a)).stopPropagation()},magic.control.Slider=baidu.lang.createClass(function(a){var b=this,c=b._info=baidu.object.extend({accuracy:0,_status:"enable"},a),d=c._isVertical=c.orientation=="vertical";c.direction=="backward"&&(c._oppsite=!0),baidu.object.extend(c,{_suffix:d?"vtl":"htl",_knobKey:d?"top":"left",_mouseKey:d?"y":"x",_accuracyKey:d?"height":"width"}),b.on("load",function(){var a=b.getElement("view"),d=b.getElement("inner"),e=["mousedown","click"],f=baidu.fn.bind(b._eventControl,b),g=c._accuracyKey;c._val="offset"+g.replace(/([a-z])([a-z]*)/,function(a,b,c){return b.toUpperCase()+c}),c.width=a.clientWidth,c.height=a.clientHeight,c._range=[0,c[g]],c._limit=d[c._val],c._const=(c._range[1]-c._limit)/2,baidu(e).each(function(b,c){baidu.dom(a).on(c,f)}),b.on("dispose",function(){baidu(e).each(function(b,c){baidu.dom(a).off(c,f)})}),b._setAccuracy(c.accuracy),b.setValue(c.currentValue)})},{type:"magic.control.Slider",superClass:magic.Base}),magic.control.Slider.extend({disable:function(){this._info._status="disabled"},enable:function(){this._info._status="enable"},setValue:function(a){var b=this,c=b._info,d=c._accuracyKey,a=a||0,e=c[d]*a;c._oppsite&&(e=c[d]*b._accSub(1,a)),b._setPosition({target:null,noAccuracy:!0,noFx:!0},e),c.currentValue=a},getValue:function(){return this._info.currentValue},setRange:function(a){var b=this,c=b._info,d=c[c._accuracyKey],e=a*d;if(c.accuracy)return;c._oppsite?c._range[0]=e:c._range[1]=e,c._percent=e/d},$dispose:function(){var a=this;if(a.disposed)return;magic.Base.prototype.$dispose.call(a)},_accSub:function(a,b){var c,d,e,f;try{c=a.toString().split(".")[1].length}catch(g){c=0}try{d=b.toString().split(".")[1].length}catch(g){d=0}return e=Math.pow(10,Math.max(c,d)),f=c>=d?c:d,+((a*e-b*e)/e).toFixed(f)},_startDrag:function(a){var b=this,c=b._info,d=b.getElement("knob"),e=b.getElement("process"),f=c.accuracy,g=c.width,h=c.height,i=0,j=0,k=d[c._val],l=c._range,m=[],n=parseInt(baidu.dom(d).css("margin-"+c._knobKey));a.stopPropagation(),c._isVertical?(h=l[1]+k,i=l[0]):(g=l[1]+k,j=l[0]),m=[i,g,h,j];if(a.target!=d||b._isMoving)return;b._recover(),baidu.dom.drag(d,{range:m,fix:[c._knobKey,n],ondragstart:function(){b.fire("onslidestart")},ondrag:function(){var a=b._getRealPos(d,c._knobKey);baidu.dom(e).css(c._accuracyKey,b._getProcessPos(a)),b._setCurrentValue(a),b.fire("onslide"),b.fire("onchange",{value:c.currentValue})},ondragend:function(a,d,e){e=e[c._knobKey],b._reset(e),f&&b._useAdsorbr(e),b.fire("onslidestop")}})},_resize:function(){var a=this,b=a._info,c=isNaN(Math.min(b._percent,1))?1:Math.min(b._percent,1),d=a.getElement("inner"),e=a.getElement("view"),f;b.width=e.clientWidth,b.height=e.clientHeight,b._limit=d[b._val],f=b[b._accuracyKey],b._oppsite?b._range=c<1?[f*c,f]:[0,f]:b._range=[0,f*c],a._setAccuracy(b.accuracy)},_recover:function(){var a=this,b=a._info,c=a.getElement("knob"),d=a.getElement("process"),e=b._accuracyKey,f=c.style[b._knobKey],g=d.style[e];if(/px|auto/.test(f))return;f.length||(f=0),g.length||(g=0),f=parseFloat(f)/100*b[e]+"px",g=parseFloat(g)/100*b._limit+"px",baidu.dom(c).css(b._knobKey,f),baidu.dom(d).css(e,g)},_reset:function(a){var b=this,c=b._info,d=b.getElement("knob"),e=b.getElement("process");if(/%/.test(a))return;baidu.dom(d).css(c._knobKey,b._knobPercent(a)),baidu.dom(e).css(c._accuracyKey,b._processPercent(b._getProcessPos(a)))},_knobPercent:function(a){var b=this._info;return parseFloat(a)/b[b._accuracyKey]*100+"%"},_processPercent:function(a){return this._info._limit==0?"0":parseFloat(a)/this._info._limit*100+"%"},_getRealPos:function(a,b){return a.style[b]},_getProcessPos:function(a){var b=this,c=b._info,d=c._range,e=c._limit,a=parseFloat(a)-c._const;if(d[0]&&a<d[0]){var f=d[0]-c._const;return f>0?f+"px":0}return a>d[1]?d[1]-c._const+"px":(a<0&&(a=0),a>e&&(a=e),c._oppsite&&(a=e-a),a+"px")},_getKnobPos:function(a){var a=parseFloat(a),b=this._info,c=b._range;return b._oppsite?a=a<c[0]?c[0]:a:a=a>c[1]?c[1]:a,a+"px"},_getMousePos:function(){var a=this.getElement("view"),b=baidu.page.getMousePosition(),c=baidu.dom(a).offset();return this._info._mouseKey=="x"?b.x-c.left:b.y-c.top},_move:function(a,b,c){var d=this,e=d._info,f=e._range,g=d._getKnobPos(c),h=d._getProcessPos(c);d._setCurrentValue(g),baidu.dom(a).css(e._knobKey,d._knobPercent(g)),baidu.dom(b).css(e._accuracyKey,d._processPercent(h))},_setCurrentValue:function(a){var b=this,c=b._info,d=parseFloat(a)*10/(c[c._accuracyKey]*10);c._oppsite&&(d=b._accSub
(1,d)),c.currentValue=d},_slide:function(a,b,c){var d=this,e=d._info,f=d.getElement("knob"),g=d.getElement("process");d.fire("startFx",{knob:f,process:g,pos:a,fn:b})&&(d._move(f,g,a),b&&b())},_setPosition:function(a,b,c){var d=this,e=d._info,f=d.getElement("knob"),g=d.getElement("process"),h=a.noAccuracy||!e.accuracy,i=function(a){d._isMoving=!1,d.fire("onchange",{value:e.currentValue})};b==c&&(b=d._getMousePos());if(a.target===f)return;d._isMoving=!0,h?d._slide(b,i,a.noFx):d._useAdsorbr(b,i,a.noFx)},_useAdsorbr:function(a,b,c){var d=this,e=d._info,a=parseFloat(a)||0,f=e._range,g=e._accuracyZone.slice(0),h=g.length,i=0,j=a,k;if(a==0||a>f[1])k=a;else if(e.accuracy)for(;i<h;i++){var l=Math.abs(g[i]-a);l<=j&&(j=l,k=g[i])}else k=a;d._slide(k,b,c)},_setAccuracy:function(a){var b=this._info,c=b._range,d=b._accuracyKey,e=a*b[d],f=0,g=[0],h;a==0&&(b.accuracy=0,delete b._accuracyZone),b.accuracy=a;while((h=f+e)&&h<c[1])f=h,g.push(h);b._accuracyZone=g.concat(b[d])},_eventControl:function(a){var b=this,c=b.getElement("knob"),d=b.getElement("process");a.preventDefault(),b._resize(),b._info._status=="enable"&&(a.target==c&&a.type=="mousedown"?b._startDrag(a):a.type=="mousedown"&&b.fire("onbeforeslideclick")&&(b._setPosition(a),b.fire("onslideclick")))}}),baidu.event.stopPropagation=function(a){return(new baidu.event(a)).stopPropagation()},magic.control.Slider=baidu.lang.createClass(function(a){var b=this,c=b._info=baidu.object.extend({accuracy:0,_status:"enable"},a),d=c._isVertical=c.orientation=="vertical";c.direction=="backward"&&(c._oppsite=!0),baidu.object.extend(c,{_suffix:d?"vtl":"htl",_knobKey:d?"top":"left",_mouseKey:d?"y":"x",_accuracyKey:d?"height":"width"}),b.on("load",function(){var a=b.getElement("view"),d=b.getElement("inner"),e=["mousedown","click"],f=baidu.fn.bind(b._eventControl,b),g=c._accuracyKey;c._val="offset"+g.replace(/([a-z])([a-z]*)/,function(a,b,c){return b.toUpperCase()+c}),c.width=a.clientWidth,c.height=a.clientHeight,c._range=[0,c[g]],c._limit=d[c._val],c._const=(c._range[1]-c._limit)/2,baidu(e).each(function(b,c){baidu.dom(a).on(c,f)}),b.on("dispose",function(){baidu(e).each(function(b,c){baidu.dom(a).off(c,f)})}),b._setAccuracy(c.accuracy),b.setValue(c.currentValue)})},{type:"magic.control.Slider",superClass:magic.Base}),magic.control.Slider.extend({disable:function(){this._info._status="disabled"},enable:function(){this._info._status="enable"},setValue:function(a){var b=this,c=b._info,d=c._accuracyKey,a=a||0,e=c[d]*a;c._oppsite&&(e=c[d]*b._accSub(1,a)),b._setPosition({target:null,noAccuracy:!0,noFx:!0},e),c.currentValue=a},getValue:function(){return this._info.currentValue},setRange:function(a){var b=this,c=b._info,d=c[c._accuracyKey],e=a*d;if(c.accuracy)return;c._oppsite?c._range[0]=e:c._range[1]=e,c._percent=e/d},$dispose:function(){var a=this;if(a.disposed)return;magic.Base.prototype.$dispose.call(a)},_accSub:function(a,b){var c,d,e,f;try{c=a.toString().split(".")[1].length}catch(g){c=0}try{d=b.toString().split(".")[1].length}catch(g){d=0}return e=Math.pow(10,Math.max(c,d)),f=c>=d?c:d,+((a*e-b*e)/e).toFixed(f)},_startDrag:function(a){var b=this,c=b._info,d=b.getElement("knob"),e=b.getElement("process"),f=c.accuracy,g=c.width,h=c.height,i=0,j=0,k=d[c._val],l=c._range,m=[],n=parseInt(baidu.dom(d).css("margin-"+c._knobKey));a.stopPropagation(),c._isVertical?(h=l[1]+k,i=l[0]):(g=l[1]+k,j=l[0]),m=[i,g,h,j];if(a.target!=d||b._isMoving)return;b._recover(),baidu.dom.drag(d,{range:m,fix:[c._knobKey,n],ondragstart:function(){b.fire("onslidestart")},ondrag:function(){var a=b._getRealPos(d,c._knobKey);baidu.dom(e).css(c._accuracyKey,b._getProcessPos(a)),b._setCurrentValue(a),b.fire("onslide"),b.fire("onchange",{value:c.currentValue})},ondragend:function(a,d,e){e=e[c._knobKey],b._reset(e),f&&b._useAdsorbr(e),b.fire("onslidestop")}})},_resize:function(){var a=this,b=a._info,c=isNaN(Math.min(b._percent,1))?1:Math.min(b._percent,1),d=a.getElement("inner"),e=a.getElement("view"),f;b.width=e.clientWidth,b.height=e.clientHeight,b._limit=d[b._val],f=b[b._accuracyKey],b._oppsite?b._range=c<1?[f*c,f]:[0,f]:b._range=[0,f*c],a._setAccuracy(b.accuracy)},_recover:function(){var a=this,b=a._info,c=a.getElement("knob"),d=a.getElement("process"),e=b._accuracyKey,f=c.style[b._knobKey],g=d.style[e];if(/px|auto/.test(f))return;f.length||(f=0),g.length||(g=0),f=parseFloat(f)/100*b[e]+"px",g=parseFloat(g)/100*b._limit+"px",baidu.dom(c).css(b._knobKey,f),baidu.dom(d).css(e,g)},_reset:function(a){var b=this,c=b._info,d=b.getElement("knob"),e=b.getElement("process");if(/%/.test(a))return;baidu.dom(d).css(c._knobKey,b._knobPercent(a)),baidu.dom(e).css(c._accuracyKey,b._processPercent(b._getProcessPos(a)))},_knobPercent:function(a){var b=this._info;return parseFloat(a)/b[b._accuracyKey]*100+"%"},_processPercent:function(a){return this._info._limit==0?"0":parseFloat(a)/this._info._limit*100+"%"},_getRealPos:function(a,b){return a.style[b]},_getProcessPos:function(a){var b=this,c=b._info,d=c._range,e=c._limit,a=parseFloat(a)-c._const;if(d[0]&&a<d[0]){var f=d[0]-c._const;return f>0?f+"px":0}return a>d[1]?d[1]-c._const+"px":(a<0&&(a=0),a>e&&(a=e),c._oppsite&&(a=e-a),a+"px")},_getKnobPos:function(a){var a=parseFloat(a),b=this._info,c=b._range;return b._oppsite?a=a<c[0]?c[0]:a:a=a>c[1]?c[1]:a,a+"px"},_getMousePos:function(){var a=this.getElement("view"),b=baidu.page.getMousePosition(),c=baidu.dom(a).offset();return this._info._mouseKey=="x"?b.x-c.left:b.y-c.top},_move:function(a,b,c){var d=this,e=d._info,f=e._range,g=d._getKnobPos(c),h=d._getProcessPos(c);d._setCurrentValue(g),baidu.dom(a).css(e._knobKey,d._knobPercent(g)),baidu.dom(b).css(e._accuracyKey,d._processPercent(h))},_setCurrentValue:function(a){var b=this,c=b._info,d=parseFloat(a)*10/(c[c._accuracyKey]*10);c._oppsite&&(d=b._accSub(1,d)),c.currentValue=d},_slide:function(a,b,c){var d=this,e=d._info,f=d.getElement("knob"),g=d.getElement("process");d.fire("startFx",{knob:f,process:g,pos:a,fn:b})&&(d._move(f,g,a),b&&b())},_setPosition:function(a,b,c){var d=this,e=d._info,f=d.getElement("knob"),g=d.getElement("process"),h=a.noAccuracy||!e.accuracy,i=function(a){d._isMoving=!1,d.fire("onchange",{value:e.currentValue})};b==c&&(b=d._getMousePos());if(a.target===f)return;d._isMoving=!0,h?d._slide(b,i,a.noFx):d._useAdsorbr(b,i,a.noFx)},_useAdsorbr:function(a,b,c){var d=this,e=d._info,a=parseFloat(a)||0,f=e._range,g=e._accuracyZone.slice(0),h=g.length,i=0,j=a,k;if(a==0||a>f[1])k=a;else if(e.accuracy)for(;i<h;i++){var l=Math.abs(g[i]-a);l<=j&&(j=l,k=g[i])}else k=a;d._slide(k,b,c)},_setAccuracy:function(a){var b=this._info,c=b._range,d=b._accuracyKey,e=a*b[d],f=0,g=[0],h;a==0&&(b.accuracy=0,delete b._accuracyZone),b.accuracy=a;while((h=f+e)&&h<c[1])f=h,g.push(h);b._accuracyZone=g.concat(b[d])},_eventControl:function(a){var b=this,c=b.getElement("knob"),d=b.getElement("process");a.preventDefault(),b._resize(),b._info._status=="enable"&&(a.target==c&&a.type=="mousedown"?b._startDrag(a):a.type=="mousedown"&&b.fire("onbeforeslideclick")&&(b._setPosition(a),b.fire("onslideclick")))}}),magic.Slider=baidu.lang.createClass(function(a){},{type:"magic.Slider",superClass:magic.control.Slider}),magic.Slider.extend({render:function(a){var b=this;a=baidu.dom("#"+a).get(0),a||document.body.appendChild(a=document.createElement("div"));if(/tang-slider/.test(a.className))return;baidu.dom(a).addClass("tang-ui tang-slider tang-slider-"+b._info._suffix),a.innerHTML=b.toHTMLString(),b.$mappingDom("",a),b.fire("load")},toHTMLString:function(){var a=this,b=a._info,c="tang-process-"+b.direction,d=b._oppsite?"-backward":"",e=baidu.string.format(magic.Slider.template,{id:a.$getId(),viewId:a.$getId("view"),innerId:a.$getId("inner"),cornerClass:d,processId:a.$getId("process"),processClass:c,knobId:a.$getId("knob")});return e},$dispose:function(){var a=this,b;if(a.disposed)return;b=a.getElement(""),magic.Base.prototype.$dispose.call(a),baidu.dom(b).remove(),b=null}}),magic.Slider.template='<div id="#{viewId}" class="tang-view"><div class="tang-content"><div class="tang-corner tang-start#{cornerClass}"></div><div class="tang-corner tang-last#{cornerClass}"></div><div id="#{innerId}" class="tang-inner"><div id="#{processId}" class="tang-process #{processClass}"></div></div></div><a id="#{knobId}" href="javascript:;" class="tang-knob"></a></div>',magic.setup.slider=function(a,b){var c=magic.setup(baidu.dom("#"+a).get(0),magic.control.Slider,b),d=c.getElement();return c.$mappingDom("view",baidu(".tang-view",d)[0]),c.$mappingDom("knob",baidu(".tang-knob",d)[0]),c.$mappingDom("process",baidu(".tang-process",d)[0]),c.$mappingDom("inner",baidu(".tang-inner",d)[0]),c.fire("load"),c},baidu.lang.register(magic.control.Slider,function(a){var b=this,c=b._info;c.cache&&c.cache.enable&&b.on("load",function(){var a=b.getElement("inner"),d=c._accuracyKey,e=c._oppsite?"tang-cache-backward":"tang-cache-forward",f=b.$getId("cache"),g=c._oppsite?'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-start"></div>':'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-last"></div>';baidu.dom(a).prepend(baidu.string.format(g,{id:f,cacheClass:e}))})},{setCache:function(a){var b=this,c=b._info,d=b.getElement("cache"),e=a*c._limit,f=b._cachePercent(e);a==0?baidu.dom(d).css("overflow","hidden"):baidu.dom(d).css("overflow",""),baidu.dom(d).css(c._accuracyKey,b._cachePercent(e))},_cachePercent:function(a){return a/this._info._limit*100+"%"}}),baidu.fx.move=function(a,b){if(!(a=baidu.dom.g(a))||baidu.dom.getStyle(a,"position")=="static")return null;b=baidu.object.extend({x:0,y:0},b||{});if(b.x==0&&b.y==0)return null;var c=baidu.fx.create(a,baidu.object.extend({initialize:function(){this.protect("top"),this.protect("left"),this.originX=parseInt(baidu.dom.getStyle(a,"left"))||0,this.originY=parseInt(baidu.dom.getStyle(a,"top"))||0},transition:function(a){return 1-Math.pow(1-a,2)},render:function(b){a.style.top=this.y*b+this.originY+"px",a.style.left=this.x*b+this.originX+"px"}},b),"baidu.fx.move");return c.launch()},baidu.fx.moveTo=function(a,b,c){if(!(a=baidu.dom.g(a))||baidu.dom.getStyle(a,"position")=="static"||typeof b!="object")return null;var d=[b[0]||b.x||0,b[1]||b.y||0],e=parseInt(baidu.dom.getStyle(a,"left"))||0,f=parseInt(baidu.dom.getStyle(a,"top"))||0,g=baidu.fx.move(a,baidu.object.extend({x:d[0]-e,y:d[1]-f},c||{}));return g},baidu.lang.register(magic.control.Slider,function(a){var b=this,c=b._info.fx;b.on("startFx",function(a){c&&c.enable&&(b._fx&&b._fx.end(),b._recover(),b._fxMove(a.knob,a.process,a.pos,a.fn),a.returnValue=!1)})},{setValue:function(a,b){var c=this,d=c._info,e=d._accuracyKey,a=a||0,f=d[e]*a;d._oppsite&&(f=d[e]*c._accSub(1,a)),c._setPosition({target:null,noAccuracy:!0,noFx:b},f),d.currentValue=a},_fxMove:function(a,b,c,d){var e=this,f=e._info,g=f.fx,h=f._knobKey,i=f._accuracyKey,c=parseFloat(e._getKnobPos(c)),j=f._isVertical?[0,c]:[c,0];e._setCurrentValue(c),e._fx=baidu.fx.moveTo(a,j,{duration:g.duration||200,onbeforestart:function(){e.fire("onfxstart")},onafterupdate:function(){var c=e._getProcessPos(e._getRealPos(a,h));baidu.dom(b).css(i,c),e.fire("onfx")},onafterfinish:function(){e.fire("onfxstop"),e._reset(c),d&&d(c),delete e._fx}})||d&&d()}}),magic.control.Tab=baidu.lang.createClass(function(a){var b=this,c=baidu.fn.bind("_toggleHandler",b);b._options=baidu.object.extend({selectEvent:"click",selectDelay:0,originalIndex:0},a),b._selectedIndex=b._options.originalIndex,b.on("onload",function(a){var d=b.getElement();b.$mappingDom("title",baidu(".tang-title",d)[0]).$mappingDom("body",baidu(".tang-body",d)[0]),baidu.dom(b.getElement("title")).on(b._options.selectEvent,c),b.on("ondispose",function(){baidu.dom(b.getElement("title")).off(b._options.selectEvent,c)}),b.select(b._selectedIndex)})},{type:"magic.control.Tab",superClass:magic.Base}).extend({_toggleHandler:function(a){function d(){var a=baidu.dom(c).closest(".tang-title-item").get(0),d=baidu.dom(b.getElement("title")).children(),e=d.length,f=0;if(!a)return;for(var g=0;g<e;g++)if(d[g]===a){f=g;break}b._selectedIndex!=f&&b.select(f)}if(a.target.className=="tang-title")return;var b=this,c=a.target;/^(on)?mouseover$/i.test(b._options.selectEvent)?(clearTimeout(b._timeOut),b._timeOut=setTimeout(d,b._options.selectDelay)):d()},select:function(a){var b=this,c=baidu.dom(b.getElement("title")).children(),d=baidu.dom(b.getElement("body")).children();if(!b.fire("onbeforeselect",{index:b._selectedIndex}))return;baidu.dom(c[b._selectedIndex]).removeClass("tang-title-item-selected"),baidu.dom(d[b._selectedIndex]).removeClass("tang-body-item-selected"),b._selectedIndex=a,baidu.dom(c[a]).addClass("tang-title-item-selected"),baidu.dom(d[a]).addClass("tang-body-item-selected"),b.fire("onselect",{index:b._selectedIndex})},getCurrentTitle:function(){var a=this;return baidu.dom(a.getElement("title")).children()[a._selectedIndex]},getCurrentContent:function(){var a=this;return baidu.dom(a.getElement("body")).children()[a._selectedIndex]},$dispose:function(){var a=this;if(a.disposed)return;magic.Base.prototype.$dispose.call(a)}}),magic.Tab=baidu.lang.createClass(function(a){var b=this;b._items=a.items||[]},{type:"magic.Tab",superClass:magic.control.Tab}).extend({tplTitle:'<li class="#{titleClass}"><a href="#" onclick="return false" hidefocus="true"><span>#{content}</span></a></li>',tplBody:'<div class="#{bodyClass}">#{content}</div>',toHTMLString:function(){var a=this,b='<ul class="#{titleClass}">#{titleContent}</ul><div class="#{bodyClass}">#{bodyContent}</div>',c=[],d=[];return baidu(a._items).each(function(b,e){c.push(baidu.string.format(a.tplTitle,{titleClass:"tang-title-item"+(a._selectedIndex==b?" tang-title-item-selected":""),content:e.title})),d.push(baidu.string.format(a.tplBody,{bodyClass:"tang-body-item"+(a._selectedIndex==b?" tang-body-item-selected":""),content:e.content}))}),baidu.string.format(b,{titleClass:"tang-title",titleContent:c.join(""),bodyClass:"tang-body",bodyContent:d.join("")})},render:function(a){var b=this,c;if(b.getElement())return;b.$mappingDom("",baidu.dom("#"+a).get(0)||document.body),c=b.getElement(),baidu.dom(c).addClass("tang-ui tang-tab"),baidu.dom(c).append(b.toHTMLString()),b.fire("onload")},$dispose:function(){var a=this,b,c;if(a.disposed)return;b=a.getElement("title"),c=a.getElement("body"),baidu.dom(a.getElement()).removeClass("tang-ui tang-tab"),magic.Base.prototype.$dispose.call(a),baidu.dom(b).remove(),baidu.dom(c).remove(),b=c=null}}),magic.setup.tab=function(a,b){var c=magic.setup(baidu.dom("#"+a).get(0),magic.control.Tab,b);return c.fire("onload"),c},baidu.dom.extend({one:function(a,b,c,d){return this.on(a,b,c,d,1)}}),baidu._util_.smartScroll=function(a){function e(a){return a&&a.nodeType===9}function f(a){return baidu.type(a)=="Window"?a:e(a)?a.defaultView||a.parentWindow:!1}var b={scrollLeft:"pageXOffset",scrollTop:"pageYOffset"}[a],c=a==="scrollLeft",d={};return{get:function(c){var d=f(c);return d?b in d?d[b]:baidu.browser.isStrict&&d.document.documentElement[a]||d.document.body[a]:c[a]},set:function(b,d){if(!b)return;var e=f(b);e?e.scrollTo(c?d:this.get(b),c?this.get(b):d):b[a]=d}}},baidu.dom.extend({scrollTop:function(){var a=baidu._util_.smartScroll("scrollTop");return function(b){return b&&baidu.check("^(?:number|string)$","baidu.dom.scrollTop"),this.size()<=0?b===undefined?0:this:b===undefined?a.get(this[0]):a.set(this[0],b)||this}}()}),baidu.dom.extend({outerWidth:function(a){if(this.size()<=0)return 0;var b=this[0],c=b!=null&&b===b.window?"window":b.nodeType===9?"document":!1;return c?baidu._util_.getWindowOrDocumentWidthOrHeight(b,c,"width"):baidu._util_.getWidthOrHeight(b,"width","padding|border"+(a?"|margin":""))}}),baidu.dom.extend({innerWidth:function(){if(this.size()<=0)return 0;var a=this[0],b=a!=null&&a===a.window?"window":a.nodeType===9?"document":!1;return b?baidu._util_.getWindowOrDocumentWidthOrHeight(a,b,"width"):baidu._util_.getWidthOrHeight(a,"width","padding")}}),baidu.dom.extend({outerHeight:function(a){if(this.size()<=0)return 0;var b=this[0],c=b!=null&&b===b.window?"window":b.nodeType===9?"document":!1;return c?baidu._util_.getWindowOrDocumentWidthOrHeight(b,c,"height"):baidu._util_.getWidthOrHeight(b,"height","padding|border"+(a?"|margin":""))}}),baidu.dom.extend({innerHeight:function(){if(this.size()<=0)return 0;var a=this[0],b=a!=null&&a===a.window?"window":a.nodeType===9?"document":!1;return b?baidu._util_.getWindowOrDocumentWidthOrHeight(a,b,"height"):baidu._util_.getWidthOrHeight(a,"height","padding")}}),magic.control.ScrollPanel=baidu.lang.createClass(function(a){var b=this;b._active=!1,b._options=baidu.extend({autoUpdateDelay:500,arrowButtonStep:20,mousewheelStep:50,scrollbarStep:80,intervalScrollDelay:300,intervalScrollFreq:100,scrollbarMinHeight:10},a),b.on("load",function(){var a=b._target=baidu(b.getElement("target")),c=b._options;a.addClass("tang-scrollpanel"),b.on("installpanel",b._installSlider),b.on("uninstallpanel",b._uninstallSlider),b._installPanel(),b.update(),c.autoUpdateDelay&&function(){var a=arguments.callee;b._updateTimer=setTimeout(function(){b.update(),a()},c.autoUpdateDelay)}()})},{type:"magic.control.ScrollPanel",superClass:magic.Base}).extend({_installPanel:function(){function e(c){if(!a._active)return;c.preventDefault(),a.scrollBy(c.wheelDelta>0?-b.mousewheelStep:b.mousewheelStep)}var a=this,b=a._options,c=baidu('<div id="'+a.$getId("wrapper")+'" class="tang-scrollpanel-wrapper"></div>').css({width:a._target.width(),height:a._target.height()}),d=baidu('<div id="'+a.$getId("content")+'" class="tang-scrollpanel-content"></div>');d.append(a._target.children()),c.append(d),a._target.append(c),c.on("mousewheel",e),a.on("dispose",function(){c.off("mousewheel",e)}),a.fire("installpanel")},_uninstallPanel:function(){var a=this;a._target.append(baidu(a.getElement("content")).children()).removeClass("tang-scrollpanel"),baidu(a.getElement("wrapper")).remove(),a.fire("uninstallpanel")},_installSlider:function(){var a=this,b=baidu(a.getElement("wrapper")),c=baidu('<div id="'+a.$getId("slider")+'"></div>').css({height:a._target.height()}),d;b.append(c),a._slider=d=new magic.Slider({orientation:"vertical",currentValue:0}),d.on("change",function(b){a.scrollTo(a._pctToPixel(b.value))}),d.render(a.$getId("slider")),a._hackSlider()},_hackSlider:function(){function i(c,d){c.stopPropagation(),c.preventDefault(),a.scrollBy(d);var f,g,h=function(a){a.preventDefault()},i=function(a){a.target.releaseCapture?a.target.releaseCapture():window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)},j=function(){clearInterval(f),clearInterval(g),baidu(document).off("mouseup",j),baidu(document).off("selectstart",h),i(c)};f=setTimeout(function(){g=setInterval(function(){if(d<0&&c.pageY>e.offset().top||d>0&&c.pageY<e.offset().top+e.outerHeight()){j();return}a.scrollBy(d)},b.intervalScrollFreq)},b.intervalScrollDelay),baidu(document).on("mouseup",j),baidu(document).on("selectstart",h),c.target.setCapture?c.target.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}var a=this,b=a._options,c=baidu(a.getElement("slider")),d=a._slider,e=baidu(d.getElement("knob")),f=d.getElement("view"),g=baidu(".tang-start",f),h=baidu(".tang-last",f),f=baidu(f);a.$mappingDom("arrowTop",g.get(0)),a.$mappingDom("arrowBottom",h.get(0)),c.append(g),c.append(h),f.css({width:e.outerWidth()});var j=function(a){var c=a.target==g.get(0)?-1:1;i(a,c*b.arrowButtonStep)},k=function(a){if(a.target==d.getElement("knob"))return;a.pageY<e.offset().top?i(a,-b.scrollbarStep):a.pageY>e.offset().top+e.outerHeight()&&i(a,b.scrollbarStep)};g.on("mousedown",j),h.on("mousedown",j),c.on("mousedown",k),a.on("dispose",function(){g.off("mousedown",j),h.off("mousedown",j),c.off("mousedown",k)}),d.on("beforeslideclick",function(a){a.returnValue=!1})},_uninstallSlider:function(){this._slider&&this._slider.$dispose()},_resetSliderUnitsPos:function(){var a=this,b=a._options,c=baidu(a._slider.getElement("view")),d=baidu(a._slider.getElement("knob")),e=baidu(a.getElement("content")),f=a.getElement("slider"),g=baidu(".tang-start",f),h=baidu(".tang-last",f),i=g.css("display")=="none"?0:g.outerHeight(),j=h.css("display")=="none"?0:h.outerHeight(),f=baidu(f),k=Math.round(a._target.height()/e.outerHeight()*(f.height()-i-j));d.css({height:k>b.scrollbarMinHeight?k:b.scrollbarMinHeight}),c.css({top:i,height:f.height()-j-i-d.outerHeight()}),baidu.browser.ie<7&&(f.height()%2!=0&&h.css({bottom:-1}),c.height()%2!=0&&(c.css({height:c.height()+1}),d.css({height:d.height()-1})))},_pixelToPct:function(a){return a/(baidu(this.getElement("content")).height()-baidu(this.getElement("wrapper")).height())},_pctToPixel:function(a){return(baidu(this.getElement("content")).height()-baidu(this.getElement("wrapper")).height())*a},_setActive:function(){var a=this,b=baidu(a.getElement("slider")),c=baidu(a._slider.getElement("view")),d=baidu(a.getElement("content")),e=baidu(a.getElement("wrapper"));b.show(),b.css({width:c.width()}),d.css({width:e.width()-b.width()}),a._resetSliderUnitsPos(),a._active=!0,a._oldContentHeight=d.outerHeight()},_setInactive:function(){var a=this,b=baidu(a.getElement("slider")),c=baidu(a.getElement("content"));c.css({width:c.width()+b.width()}),b.hide(),a._active=!1},update:function(){var a=this;a._isScrollable(a._target).y?a._active?a._oldContentHeight!=baidu(a.getElement("content")).outerHeight()&&(a._resetSliderUnitsPos(),a._oldContentHeight=baidu(a.getElement("content")).outerHeight(),a._scrollTo(a.getScroll())):a._setActive():a._active&&(a._setInactive(),a.scrollTo(0))},clearAutoUpdate:function(){if(!this._updateTimer)return;clearTimeout(this._updateTimer),delete this._updateTimer},_isScrollable:function(){var a=this,b=a._target,c=b.innerWidth(),d=b.innerHeight(),e=baidu(a.getElement("content")).innerWidth()>c,f=baidu(a.getElement("content")).innerHeight()>d;return{x:e,y:f}},scrollTo:function(a){var b=this,c=a,d=baidu(b.getElement("wrapper")),e=baidu(b.getElement("content")),f=d.height(),g=e.outerHeight();a>g-f&&(a=g-f),a<0&&(a=0);if(b.getScroll()==a)return;b.fire("beforescroll",{pos:a}),b._scrollTo(a),b.fire("afterscroll",{pos:a})},_scrollTo:function(a){var b=this,c=b._slider;baidu(b.getElement("content")).css({top:-a}),c.un("change"),c.setValue(b._pixelToPct(a)),c.on("change",function(a){b.scrollTo(b._pctToPixel(a.value))})},scrollToTop:function(){return this.scrollTo(0),this},scrollToBottom:function(){return this.scrollTo(baidu(this.getElement("content")).height()),this},scrollToElement:function(a){var b=baidu(a).offset().top-baidu(this.getElement("content")).offset().top;return this.scrollTo(b),this},scrollBy:function(a){return this.scrollTo(this.getScroll()+a),this},getScroll:function(){return-Math.round(parseFloat(baidu(this.getElement("content")).css("top")))},getScrollPct:function(){var a=baidu(this.getElement("content")).outerHeight()-baidu(this.getElement("wrapper")).height();return Math.round(this.getScroll()/a*100)/100},$dispose:function(){var a=this;if(a.disposed)return;a.clearAutoUpdate(),a._uninstallPanel(),magic.Base.prototype.$dispose.call(a)}}),magic.setup.scrollPanel=function(a,b){baidu.type(a)==="string"&&(a="#"+a);var a=baidu(a)[0],c=magic.setup(a,magic.control.ScrollPanel,b);return c.$mappingDom("target",a),c.fire("load"),c},baidu.dom.extend({parent:function(a){var b=[];return baidu.forEach(this,function(a){(a=a.parentNode)&&a.nodeType==1&&b.push(a)}),baidu.dom(baidu.dom.match(b,a))}}),magic.control.Tooltip=baidu.lang.createClass(function(a){var b=this,c=b._options=baidu.object.extend({autoHide:!0,hasCloseBtn:!0,hasArrow:!0,offsetX:0,offsetY:0,target:null,content:"",showEvent:"mouseover,focus",hideEvent:"mouseout,blur",position:"bottom",arrowPosition:null},a||{});b._isShow=!1,b._refresh=!1,b.styleBox=!0,b.on("load",function(){b._posInfo=baidu.array(["top","bottom","left","right"]),b._posCache={},b._eventList=[],b.arrowPosGap={top:1,bottom:5,left:3,right:5};var a=b._eventDeal=function(a,c,d,e){a=a&&baidu.string(a).trim(),a=a.replace(","," ");if(a){var f=function(){d.off(a,c)};d.on(a,c),e?e.push(f):b.on("dispose",f)}},d=function(){b._refresh=!0,c.autoHide&&b.hide()},e=27,f=baidu.fn.bind("show",b),g=baidu.fn.bind("hide",b);b._bindCustomEvent(c.target),c.hasCloseBtn?a("click",g,baidu(b.getElement("close"))):baidu(b.getElement("close")).hide(),c.autoHide&&(a("scroll",g,baidu(document))||a("click",g,baidu(document))||a("keydown",function(a){a.keyCode==e&&b.hide()},baidu(document))),a("resize",d,baidu(window)),b.on("dispose",function(){for(var a=0,c=b._eventList.length;a<c;a++)b._eventList[a].call(b)});var h=baidu(b.getElement("arrow"));c.hasArrow&&h.addClass("arrow-"+b._getOpositePos(c.position))||h.hide(),c.content&&b._setContent(c.content);var i=0,j=/<img\s[\w\=\"\/\.\_\:]*\/?>\w*(<\/img>)?/ig;typeof c.content=="string"&&j.test(c.content)&&(i=150),setTimeout(function(){b.reposition()},i)})},{type:"magic.control.Tooltip",superClass:magic.Base}).extend({_calcTop:function(a,b,c,d){var e=parseFloat(a.css("margin-left")),f=parseFloat(a.css("margin-top")),g=this._options;return isNaN(e)&&(e=0),isNaN(f)&&(f=0),{top:b.top+f-c.outerHeight(!0)-(g.hasArrow?d.outerHeight(!0)-this.arrowPosGap.bottom:0)+g.offsetY,left:b.left+e+g.offsetX,position:"top"}},_calcArrowTop:function(a,b){return this._arrowPos("left","bottom",{start:2,end:a.outerWidth(!0)-b.outerWidth(!0)-7,gap:this.arrowPosGap.bottom},!0)},_calcBottom:function(a,b,c,d){var e=parseFloat(a.css("margin-left")),f=parseFloat(a.css("margin-bottom")),g=this._options;return isNaN(e)&&(e=0),isNaN(f)&&(f=0),{top:b.top-f+a.outerHeight(!0)+(g.hasArrow?d.outerHeight(!0)-this.arrowPosGap.top:0)+g.offsetY,left:b.left+e+g.offsetX,position:"bottom"}},_calcArrowBottom:function(a,b){return this._arrowPos("left","top",{start:2,end:a.outerWidth(!0)-b.outerWidth(!0)-7,gap:this.arrowPosGap.top},!0)},_calcLeft:function(a,b,c,d){var e=parseFloat(a.css("margin-left")),f=parseFloat(a.css("margin-top")),g=this._options;return isNaN(e)&&(e=0),isNaN(f)&&(f=0),{top:b.top+f+g.offsetY,left:b.left+e-c.outerWidth(!0)-(g.hasArrow?d.outerWidth(!0)-this.arrowPosGap.right:0)+g.offsetX,position:"left"}},_calcArrowLeft:function(a,b){return this._arrowPos("top","right",{start:2,end:a.outerHeight(!0)-b.outerHeight(!0)-7,gap:this.arrowPosGap.right})},_calcRight:function(a,b,c,d){var e=parseFloat(a.css("margin-right")),f=parseFloat(a.css("margin-top")),g=this._options;return isNaN(e)&&(e=0),isNaN(f)&&(f=0),{top:b.top+f+g.offsetY,left:b.left+a.outerWidth(!0)-e+(g.hasArrow?d.outerWidth(!0)-this.arrowPosGap.left:0)+g.offsetX,position:"right"}},_calcArrowRight:function(a,b){return this._arrowPos("top","left",{start:2,end:a.outerHeight(!0)-b.outerHeight(!0)-7,gap:this.arrowPosGap.left})},_arrowPos:function(a,b,c,d){var e=this,f=e._options,g=f.arrowPosition,h=baidu(e.getElement("arrow")),i=baidu(f.target),j=baidu(e.getElement("")),k=d?"outerWidth":"outerHeight",l=d?-h.outerHeight(!0):-h.outerWidth(!0),m=i[k]()-h[k](),n=/\d+%/ig,o={};return g&&n.test(g)&&(g=j[k](!0)*parseFloat(g)*.01),g&&typeof g!="number"&&(g=parseFloat(g)),g===null&&(g=(m>>1)-(d?f.offsetX:f.offsetY)),g<c.start&&(g=c.start),g>c.end&&(g=c.end),o[a]=g,o[b]=l+c.gap,o},_clearArrowClass:function(){var a=baidu(this.getElement("arrow"));baidu.forEach(this._posInfo,function(b){a.removeClass("arrow-"+b)})},_posControl:function(a,b,c,d,e,f){var g=this,h=g[g._CamelCaseName("_calc",a)](b,c,d,e,f);if(f)return h;var i=d.offsetParent(),j={w:i.outerWidth(!0),h:i.outerHeight(!0)};g._posCache[a]=1;if(h.left>=0&&h.left+d.outerWidth(!0)<=j.w&&h.top>=0&&h.top+d.outerHeight(!0)<=j.h)return h;var k=g._getFuturePos(a);return g._posCache[k]?h:g._posControl(k,b,c,d,e)},_getFuturePos:function(a){return this._getOpositePos(a)},_getOpositePos:function(a){var b=this._posInfo.indexOf(a);return this._posInfo[b%2==0?b+1:b-1]},_CamelCaseName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},reposition:function(){var a=this,b=a._options,c=baidu(a.getElement("")),d=baidu(a.getElement("arrow")),e=baidu(b.target),f=e.position();pos=a._posControl(b.position,e,f,c,d),c.css("left",pos.left),c.css("top",pos.top),a._posCache={};if(!b.hasArrow)return;a._clearArrowClass(),d.addClass("arrow-"+a._getOpositePos(pos.position)),pos=a[a._CamelCaseName("_calcArrow",pos.position)](c,d),d.css("top",pos.top==undefined?null:pos.top),d.css("left",pos.left==undefined?null:pos.left),d.css("bottom",pos.bottom==undefined?null:pos.bottom),d.css("right",pos.right==undefined?null:pos.right)},_setContent:function(a){var b=baidu(this.getElement("content")),c=this._options;c.content=a,b.empty(),typeof a=="function"?b.html(a(c.target)):b.append(a)},_bindCustomEvent:function(a){var b=this,c=b._options,d=baidu.fn.bind("show",b),e=baidu.fn.bind("hide",b);for(var f=0,g=b._eventList.length;f<g;f++)b._eventList[f].call(b);b._eventDeal(c.showEvent,d,baidu(a),b._eventList),b._eventDeal(c.hideEvent,e,baidu(a),b._eventList)},show:function(){var a=this,b=a._options;if(a._isShow)return;if(a.fire("beforeshow")===!1)return;a._refresh&&((a._refresh=!1)||a.reposition()),typeof b.content=="function"&&a._setContent(b.content),baidu(a.getElement("")).show(),a._isShow=!0,a.fire("show")},hide:function(){if(!this._isShow)return;if(this.fire("beforehide")===!1)return;baidu(this.getElement("")).hide(),this._isShow=!1,this.fire("hide")},setTarget:function(a){var b=this,c=b._options;if(a==c.target)return;b._bindCustomEvent(a),c.target=a,b.reposition(),b.fire("targetchange",{target:a})},setContent:function(a){var b=this,c=b._options;if(c.content==a)return;if(!a||c.content&&a.toString()==c.content.toString())return;b._setContent(a)},setPosition:function(a){var b=this,c=baidu(b.getElement(""));a.x&&c.css("left",parseFloat(a.x)),a.y&&c.css("top",parseFloat(a.y))},$dispose:function(){var a=this.getElement("");magic.Base.prototype.$dispose.call(this),a.parentNode.removeChild(a)}}),baidu.lang.register(magic.Background,function(a){this.styleBox&&(this._innerHTML=["<table borde='0' cellpadding='0' cellspacing='0' ",baidu.browser.ie<7?"class='gif__' ":"","style='width:100%;height:100%;'>","<tr class='top__'>","<td class='left__ corner__'>&nbsp;</td>","<td class='center__ vertical__'>&nbsp;</td>","<td class='right__ corner__'>&nbsp;</td>","</tr>","<tr class='middle__'>","<td class='left__ horizontal__'>&nbsp;</td>","<td class='center__ midland__'>",this._innerHTML||"&nbsp;","</td>","<td class='right__ horizontal__'>&nbsp;</td>","</tr>","<tr class='bottom__'>","<td class='left__ corner__'>&nbsp;</td>","<td class='center__ vertical__'>&nbsp;</td>","<td class='right__ corner__'>&nbsp;</td>","</tr>","</table>"].join(""))}),magic.Tooltip=baidu.lang.createClass(function(a){},{type:"magic.Tooltip",superClass:magic.control.Tooltip}).extend({render:function(a){var b=this,c=b._options;baidu.type(a)==="string"&&(a="#"+a),a=baidu(a)[0],a||(a=c.target&&c.target.parentNode||(c.target=document.body)),c.target||(c.target=a);var d=magic.Tooltip.template.join("");baidu(a).append(baidu.string.format(d,{containerId:b.$getId(""),closeId:b.$getId("close"),contentId:b.$getId("content"),arrowId:b.$getId("arrow")}));var e=b.getElement("");baidu(e).hide(),e.style.zIndex=baidu.global.getZIndex("popup"),b.background=new magic.Background({coverable:!0,styleBox:b.styleBox}),b.background.render(e),b.on("dispose",function(){b.background.$dispose()}),b.fire("load")}}),magic.Tooltip.template=["<div class='magic-tooltip magic-ui' id='#{containerId}'>","<div class='tang-foreground'>","<div class='magic-tooltip-close' id='#{closeId}'><a href='' onmousedown='event.stopPropagation && event.stopPropagation(); event.cancelBubble = true; return false;' onclick='return false;'></a></div>","<div class='magic-tooltip-content' id='#{contentId}'></div>","<div class='magic-tooltip-arrow' id='#{arrowId}'></div>","</div>","</div>"],magic.setup.tooltip=function(a,b){baidu.type(a)==="string"&&(a="#"+a),a=baidu(a)[0];var c=b||{};c.target||(c.target=document.body);var d=magic.setup(a,magic.control.Tooltip,c),e=d.getElement();return e.style.zIndex=baidu.global.getZIndex("popup"),d.background=new magic.Background({coverable:!0,styleBox:!0}),d.background.render(e),d.on("dispose",function(){d.background.$dispose()}),d.$mappingDom("",baidu(".magic-tooltip",e)[0]),d.$mappingDom("close",baidu(".magic-tooltip-close",e)[0]),d.$mappingDom("closeBtn",baidu("a",d.getElement("close"))[0]),d.$mappingDom("content",baidu(".magic-tooltip-content",e)[0]),d.$mappingDom("arrow",baidu(".magic-tooltip-arrow",d.getElement("body"))[0]),d._isShow=!0,d.hide(),d.fire("load"),d};