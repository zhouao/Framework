/*
  Ferro Slider version 1.1.4
  Requires jQuery (tested on 1.6.1, but no new features used).
  Requires (optional) jQuery easing (tested on 1.3, but no new features used).

  Copyright 2011 Ferro
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
  http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(a){var b={ferroSliderDesktop:function(b){function bk(b,c){for(i=1;i<f.length;i++){var e="slidingSpacesOuterDiv_"+f[i].id;if(c!=null){a("#"+e).offset({top:c+j*f[i].row})}if(d.fullScreenBackground){bh(a("#"+f[i].id+" ."+d.backGroundImageClass))}}}function bj(){if(d.container=="none"){if(G){if(navigator.userAgent.toLowerCase().indexOf("iphone")>-1||navigator.userAgent.toLowerCase().indexOf("ipod")>-1){if(window.orientation==0||window.orientation==180){var b=screen.width*window.devicePixelRatio;var c=(screen.height-64)*window.devicePixelRatio}else{var c=(screen.width-49)*window.devicePixelRatio;var b=screen.height*window.devicePixelRatio}}else{var c=window.outerHeight/window.devicePixelRatio;var b=window.outerWidth/window.devicePixelRatio}j=Math.round(c);g=Math.round(b)}else{g=a(window).width();j=a(window).height()}k=0;l=0;q="html,body"}else{if(G){var c=a(d.container).outerHeight(true);var b=a(d.container).outerWidth(true);var e=window.devicePixelRatio;j=Math.round(c);g=Math.round(b);k=a(d.container).offset().left;l=a(d.container).offset().top;q=d.container}else{g=a(d.container).outerWidth(true);j=a(d.container).outerHeight(true);k=a(d.container).offset().left;l=a(d.container).offset().top;q=d.container}}}function bi(b){var c=a("#"+b.id+" ."+d.backGroundImageClass);var e=0;var f=0;a(c).load(function(){bh(a(this))}).error(function(){a(this).remove()})}function bh(a){w=a.width();h=a.height();var b=h/w;if(j/g>b){a.height(j);a.width(j/b)}else{a.width(g);a.height(g*b)}r+=s;s--;a.css("position","absolute");a.css("float","left");a.css("z-index",r);a.css("left",(g-a.width())/2);a.css("top",(j-a.height())/2)}function bg(){var a=g;var b=j;bj();be(a,b);if(d.createMap){bc()}}function bf(b,c){r=-1e3;var e=U(p,o);for(i=0;i<f.length;i++){var h=f[i].column*g;var k=f[i].row*j;var l=f[i].id;var m="slidingSpacesOuterDiv_"+l;a("#"+m).width(g);a("#"+m).height(j);if(k>0){var n=k;if(q!="html,body"){n+=a(q).offset().top}a("#"+m).offset({top:n})}if(h>0){var s=h;if(q!="html,body"){s+=a(q).offset().left}a("#"+m).offset({left:s})}if(d.fullScreenBackground){bh(a("#"+f[i].id+" ."+d.backGroundImageClass))}}a("#slidingSpacesNavigationFeedback").width(g);a("#slidingSpacesNavigationFeedback").height(j);if(e.id!=null){var t=S(e.id);window.scrollTo(t.column*g,t.row*j);v=t.column*g;x=t.row*j}}function be(b,c){r=-1e3;var e=T(b,c);for(i=0;i<f.length;i++){var h=f[i].column*g;var k=f[i].row*j;var l=f[i].id;var m="slidingSpacesOuterDiv_"+l;a("#"+m).width(g);a("#"+m).height(j);if(k>0){var n=k+(j-c)*f[i].row;if(q!="html,body"){n=a("#"+m).offset().top+(j-c)*f[i].row}a("#"+m).offset({top:n})}if(h>0){var o=h+(g-b)*f[i].column;if(q!="html,body"){o=a("#"+m).offset().left+(g-b)*f[i].column}a("#"+m).offset({left:o})}if(d.fullScreenBackground){bh(a("#"+f[i].id+" ."+d.backGroundImageClass))}}a("#slidingSpacesNavigationFeedback").width(g);a("#slidingSpacesNavigationFeedback").height(j);if(e.id!=null){var p=S(e.id);a(q).animate({scrollTop:p.row*j,scrollLeft:p.column*g},0);v=p.column*g;x=p.row*j}}function bd(b){a("#slidingSpacesNavigationMap a").each(function(c){$dot=a(this);var d="";if(typeof $dot.attr("id")!="undefined"){d=$dot.attr("id").split("_")}if(d.length==2){if(d[1]==b){$dot.attr("class","slidingSpacesNavigationDotActual");$dot.attr("href","")}else{$dot.attr("class","slidingSpacesNavigationDot");$dot.attr("href","#"+d[1])}}});a(".slidingSpacesNavigationDot").each(function(b){var c=a(this);c.unbind("click");c.unbind("touchstart");c.bind("touchstart",function(a){Q(a,$el)});if(!G){c.bind("click",function(a){Q(a,c)})}else{c.removeAttr("href")}});a(".slidingSpacesNavigationDotActual").each(function(b){var c=a(this);c.unbind("click");c.unbind("touchstart");c.removeAttr("href")})}function bc(){var b=a("#slidingSpacesNavigationMap").outerWidth(true);var c=a("#slidingSpacesNavigationMap").outerHeight(true);var e=b-a("#slidingSpacesNavigationMap").width();var f=c-a("#slidingSpacesNavigationMap").height();var h=0;var i=0;if(d.container!="none"){var h=a(q).offset().top;var i=a(q).offset().left}if(d.mapPosition.toLowerCase()=="top_left"){a("#slidingSpacesNavigationMap").css({top:h,left:i})}else if(d.mapPosition.toLowerCase()=="top_center"){a("#slidingSpacesNavigationMap").css({top:h,left:i+(g/2-b/2)})}else if(d.mapPosition.toLowerCase()=="top_right"){a("#slidingSpacesNavigationMap").css({top:h,left:i+(g-b)})}else if(d.mapPosition.toLowerCase()=="center_right"){a("#slidingSpacesNavigationMap").css({top:h+(j/2-c/2),left:i+(g-b)})}else if(d.mapPosition.toLowerCase()=="bottom_center"){a("#slidingSpacesNavigationMap").css({top:h+j-c,left:i+(g/2-b/2)})}else if(d.mapPosition.toLowerCase()=="bottom_left"){a("#slidingSpacesNavigationMap").css({top:h+j-c,left:i})}else if(d.mapPosition.toLowerCase()=="center_left"){a("#slidingSpacesNavigationMap").css({top:h+(j/2-c/2),left:i})}else if(d.mapPosition.toLowerCase()=="center_center"){a("#slidingSpacesNavigationMap").css({top:h+(j/2-c/2),left:i+(g/2-b/2)})}else{a("#slidingSpacesNavigationMap").css({top:h+j-c,left:i+g-b})}a("#slidingSpacesNavigationMap").width(b-e);a("#slidingSpacesNavigationMap").height(c-f)}function bb(){var b=[];a(" ."+d.backGroundImageClass).each(function(){var c=a(this);var d=document.createElement("img");d.src=c.attr("src");b.push(d)})}function ba(){if(q=="html,body"){var b="body"}else{var b=q}for(var c=0;c<f.length;c++){elId=f[c].id;var e="slidingSpacesOuterDiv_"+elId;a(b).append("<div id='"+e+"' class='slidingSpacesOuterDiv' data-role='content'></div>");a("#"+e).css("position","absolute");a("#"+e).css("overflow","hidden");a("#"+e).width(g);a("#"+e).height(j);a("#"+elId).appendTo("#"+e);a("#"+e).offset({top:f[c].row*j+l,left:f[c].column*g+k});if(d.fullScreenBackground){if(d.preloadBackgroundImages){}bi(f[c])}if(c==0&&f[c].ajaxLoading){Y(f[c])}}}function _(b){if(!a(b.target).is("input, textarea, a, select, button, img")){b.preventDefault();b.stopPropagation();if(b.touches.length==1){L=(new Date).getTime();y=b.touches[0].pageX;z=b.touches[0].pageY;C=true;document.addEventListener("touchmove",Z,false)}}else{document.addEventListener("touchmove",function(a){a.preventDefault()},false)}}function Z(b){if(C){var c=b.touches[0].pageX,e=y-c,f=b.touches[0].pageY,h=z-f;var i=(new Date).getTime();var k=null;var l=false;if(b.touches[0].target.id==""){b.touches[0].target.id="internal_"+I++}var m=b.touches[0].target.id;W(m);if(Math.abs(e)>Math.abs(h)&&Math.abs(e)>=A){if(e>=0){k="right";if(a("#"+K).width()>g){if(a("#"+K).scrollLeft()>=a("#"+K).width()){l=true}else{l=false}}else{l=true}}else{k="left";if(a("#"+K).width()>g){if(a("#"+K).scrollLeft()<=0){l=true}else{l=false}}else{l=true}}}else if(Math.abs(e)<=Math.abs(h)&&Math.abs(h)>=B){if(h>=0){k="down";if(a("#"+K).height()>j){if(a("#"+K).scrollTop()>=a("#"+K).height()){l=true}else{l=false}}else{l=true}}else{k="up";if(a("#"+K).height()>j){if(a("#"+K).scrollTop()<=0){l=true}else{l=false}}else{l=true}}}if(l){var n=(new Date).getTime();for(var r=0;r<1e7;r++){if((new Date).getTime()-n>100){break}}P();a(q).stop();var s=T(g,j);var t=s.column;var u=s.row;if(k=="right"){t++}else if(k=="left"){t--}else if(k=="up"){u--}else if(k=="down"){u++}var w=U(u,t);var D=w.column*g;var E=w.row*j;if(w.id!=null){Y(w);if(k=="left"||k=="right"){a(q).animate({scrollLeft:D},d.time,d.easing,function(){if(navigator.userAgent.toLowerCase().indexOf("iphone")>-1||navigator.userAgent.toLowerCase().indexOf("ipod")>-1||navigator.userAgent.toLowerCase().indexOf("ipad")>-1){window.scrollTo(D,E)}b.preventDefault();b.stopPropagation();return false})}else{a(q).animate({scrollTop:E},d.time,d.easing,function(){if(navigator.userAgent.toLowerCase().indexOf("iphone")>-1||navigator.userAgent.toLowerCase().indexOf("ipod")>-1||navigator.userAgent.toLowerCase().indexOf("ipad")>-1){window.scrollTo(D,E)}b.preventDefault();b.stopPropagation();return false})}bd(w.id);o=w.column;p=w.row;v=D;x=E;window.location.hash="#!"+w.id;var n=(new Date).getTime();for(var r=0;r<1e7;r++){if((new Date).getTime()-n>100){break}}}}else{var n=(new Date).getTime();for(var r=0;r<1e7;r++){if((new Date).getTime()-n>100){break}}a("#"+K).stop();if(k=="up"||k=="down"){J=a("#"+K).scrollTop()+h;a("#"+K).animate({scrollTop:J},i-L)}else{J=a("#"+K).scrollLeft()+e;a("#"+K).animate({scrollLeft:J},i-L)}}}}function Y(b){if(b.ajaxLoading&&!b.loadedContent){a("#slidingSpacesNavigationFeedback").stop();a("#slidingSpacesNavigationFeedback").css({backgroundColor:"#000000",backgroundImage:"url(img/throbber.gif)",backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:"0.7","z-index":1e3});a("#slidingSpacesNavigationFeedback").show();a.ajax({url:d.ajaxScript,data:"id="+b.id,success:function(c){b.loadedContent=true;a("#"+b.id).html("");a("#"+b.id).append(c);a("#slidingSpacesNavigationFeedback").css({opacity:"0",backgroundColor:"transparent","z-index":"-100"})},error:function(a){}})}}function G(){if(navigator.userAgent.toLowerCase().indexOf("android")>-1||navigator.userAgent.toLowerCase().indexOf("blackberry9500")>-1||navigator.userAgent.toLowerCase().indexOf("blackberry9530")>-1||navigator.userAgent.toLowerCase().indexOf("cupcake")>-1||navigator.userAgent.toLowerCase().indexOf("dream")>-1||navigator.userAgent.toLowerCase().indexOf("incognito")>-1||navigator.userAgent.toLowerCase().indexOf("iphone")>-1||navigator.userAgent.toLowerCase().indexOf("ipod")>-1||navigator.userAgent.toLowerCase().indexOf("ipad")>-1||navigator.userAgent.toLowerCase().indexOf("mini")>-1||navigator.userAgent.toLowerCase().indexOf("webos")>-1||navigator.userAgent.toLowerCase().indexOf("webmate")>-1||navigator.userAgent.toLowerCase().indexOf("2.0 mmp")>-1||navigator.userAgent.toLowerCase().indexOf("240Ã—320")>-1||navigator.userAgent.toLowerCase().indexOf("asus")>-1||navigator.userAgent.toLowerCase().indexOf("au-mic")>-1||navigator.userAgent.toLowerCase().indexOf("alcatel")>-1||navigator.userAgent.toLowerCase().indexOf("amoi")>-1||navigator.userAgent.toLowerCase().indexOf("audiovox")>-1||navigator.userAgent.toLowerCase().indexOf("avantgo")>-1||navigator.userAgent.toLowerCase().indexOf("benq")>-1||navigator.userAgent.toLowerCase().indexOf("bird")>-1||navigator.userAgent.toLowerCase().indexOf("blackberry")>-1||navigator.userAgent.toLowerCase().indexOf("blazer")>-1||navigator.userAgent.toLowerCase().indexOf("cdm")>-1||navigator.userAgent.toLowerCase().indexOf("cellphone")>-1||navigator.userAgent.toLowerCase().indexOf("ddipocket")>-1||navigator.userAgent.toLowerCase().indexOf("danger")>-1||navigator.userAgent.toLowerCase().indexOf("docomo")>-1||navigator.userAgent.toLowerCase().indexOf("elaine/3.0")>-1||navigator.userAgent.toLowerCase().indexOf("ericsson")>-1||navigator.userAgent.toLowerCase().indexOf("eudoraweb")>-1||navigator.userAgent.toLowerCase().indexOf("fly")>-1||navigator.userAgent.toLowerCase().indexOf("hp.ipaq")>-1||navigator.userAgent.toLowerCase().indexOf("haier")>-1||navigator.userAgent.toLowerCase().indexOf("huawei")>-1||navigator.userAgent.toLowerCase().indexOf("iemobile")>-1||navigator.userAgent.toLowerCase().indexOf("j-phone")>-1||navigator.userAgent.toLowerCase().indexOf("kddi")>-1||navigator.userAgent.toLowerCase().indexOf("konka")>-1||navigator.userAgent.toLowerCase().indexOf("kwc")>-1||navigator.userAgent.toLowerCase().indexOf("kyocera/wx310k")>-1||navigator.userAgent.toLowerCase().indexOf("lg")>-1||navigator.userAgent.toLowerCase().indexOf("lg/u990")>-1||navigator.userAgent.toLowerCase().indexOf("lenovo")>-1||navigator.userAgent.toLowerCase().indexOf("midp-2.0")>-1||navigator.userAgent.toLowerCase().indexOf("mmef20")>-1||navigator.userAgent.toLowerCase().indexOf("mot-v")>-1||navigator.userAgent.toLowerCase().indexOf("mobilephone")>-1||navigator.userAgent.toLowerCase().indexOf("motorola")>-1||navigator.userAgent.toLowerCase().indexOf("newgen")>-1||navigator.userAgent.toLowerCase().indexOf("netfront")>-1||navigator.userAgent.toLowerCase().indexOf("newt")>-1||navigator.userAgent.toLowerCase().indexOf("nintendo wii")>-1||navigator.userAgent.toLowerCase().indexOf("nitro")>-1||navigator.userAgent.toLowerCase().indexOf("nokia")>-1||navigator.userAgent.toLowerCase().indexOf("novarra")>-1||navigator.userAgent.toLowerCase().indexOf("o2")>-1||navigator.userAgent.toLowerCase().indexOf("opera mini")>-1||navigator.userAgent.toLowerCase().indexOf("opera.mobi")>-1||navigator.userAgent.toLowerCase().indexOf("pantech")>-1||navigator.userAgent.toLowerCase().indexOf("pdxgw")>-1||navigator.userAgent.toLowerCase().indexOf("pg")>-1||navigator.userAgent.toLowerCase().indexOf("ppc")>-1||navigator.userAgent.toLowerCase().indexOf("pt")>-1||navigator.userAgent.toLowerCase().indexOf("palm")>-1||navigator.userAgent.toLowerCase().indexOf("panasonic")>-1||navigator.userAgent.toLowerCase().indexOf("philips")>-1||navigator.userAgent.toLowerCase().indexOf("playstation portable")>-1||navigator.userAgent.toLowerCase().indexOf("proxinet")>-1||navigator.userAgent.toLowerCase().indexOf("proxinet")>-1||navigator.userAgent.toLowerCase().indexOf("qtek")>-1||navigator.userAgent.toLowerCase().indexOf("sch")>-1||navigator.userAgent.toLowerCase().indexOf("sec")>-1||navigator.userAgent.toLowerCase().indexOf("sgh")>-1||navigator.userAgent.toLowerCase().indexOf("sharp-tq-gx10")>-1||navigator.userAgent.toLowerCase().indexOf("sie")>-1||navigator.userAgent.toLowerCase().indexOf("sph")>-1||navigator.userAgent.toLowerCase().indexOf("sagem")>-1||navigator.userAgent.toLowerCase().indexOf("samsung")>-1||navigator.userAgent.toLowerCase().indexOf("sanyo")>-1||navigator.userAgent.toLowerCase().indexOf("sendo")>-1||navigator.userAgent.toLowerCase().indexOf("sharp")>-1||navigator.userAgent.toLowerCase().indexOf("small")>-1||navigator.userAgent.toLowerCase().indexOf("smartphone")>-1||navigator.userAgent.toLowerCase().indexOf("softbank")>-1||navigator.userAgent.toLowerCase().indexOf("sonyericsson")>-1||navigator.userAgent.toLowerCase().indexOf("symbian")>-1||navigator.userAgent.toLowerCase().indexOf("symbian os")>-1||navigator.userAgent.toLowerCase().indexOf("symbianos")>-1||navigator.userAgent.toLowerCase().indexOf("ts21i-10")>-1||navigator.userAgent.toLowerCase().indexOf("toshiba")>-1||navigator.userAgent.toLowerCase().indexOf("treo")>-1||navigator.userAgent.toLowerCase().indexOf("up.browser")>-1||navigator.userAgent.toLowerCase().indexOf("up.link")>-1||navigator.userAgent.toLowerCase().indexOf("uts")>-1||navigator.userAgent.toLowerCase().indexOf("vertu")>-1||navigator.userAgent.toLowerCase().indexOf("willcome")>-1||navigator.userAgent.toLowerCase().indexOf("winwap")>-1||navigator.userAgent.toLowerCase().indexOf("windows ce")>-1||navigator.userAgent.toLowerCase().indexOf("windows.ce")>-1||navigator.userAgent.toLowerCase().indexOf("xda")>-1||navigator.userAgent.toLowerCase().indexOf("zte")>-1||navigator.userAgent.toLowerCase().indexOf("dopod")>-1||navigator.userAgent.toLowerCase().indexOf("hiptop")>-1||navigator.userAgent.toLowerCase().indexOf("htc")>-1||navigator.userAgent.toLowerCase().indexOf("i-mobile")>-1||navigator.userAgent.toLowerCase().indexOf("nokia")>-1||navigator.userAgent.toLowerCase().indexOf("portalmmm")>-1){if(navigator.platform.toLowerCase().indexOf("win32")==-1&&navigator.platform.toLowerCase().indexOf("win64")==-1){return true}else{return false}}else{return false}}function X(b){if(d.container=="none"){if(!G){D=document.documentElement.clientHeight;E=document.documentElement.clientWidth}else{var c=window.outerHeight;var h=window.outerWidth;var i=window.devicePixelRatio;D=c*i;E=h*i}}bj();var k=false;var l=false;if(typeof d.displace=="object"){e=d.displace;var r=0;for(var s=0;s<d.displace.length;s++){for(var v=0;v<d.displace[s].length;v++){if(d.displace[s][v].full==1&&typeof d.displace[s][v].first!="undefined"){var w=false;var x=true;var y=d.axis;if(typeof d.displace[s][v].ajaxLoading!="undefined"){if(d.displace[s][v].ajaxLoading){w=true;x=false}}else{if(d.ajaxLoading){w=true;x=false}}if(a.trim(d.displace[s][v].moveDirection)!=""){y=d.displace[s][v].moveDirection}if(!k){l=true;k=true}else{l=false}f.push({id:b[r].id,first:l,row:s,column:v,ajaxLoading:w,loadedContent:x,axis:y});e[s][v].id=b[r].id;m=v*g;n=s*j;o=v;p=s;r++;if(t<s){t=s}if(u<v){u=v}}}}for(var s=0;s<d.displace.length;s++){for(var v=0;v<d.displace[s].length;v++){if(d.displace[s][v].full==1&&typeof d.displace[s][v].first=="undefined"){if(r<b.length){var w=false;var x=true;var y=d.axis;if(typeof d.displace[s][v].ajaxLoading!="undefined"){if(d.displace[s][v].ajaxLoading){w=true;x=false}}else{if(d.ajaxLoading){w=true;x=false}}if(a.trim(d.displace[s][v].moveDirection)!=""){y=d.displace[s][v].moveDirection}if(!k){l=true;k=true}else{l=false}f.push({id:b[r].id,first:l,row:s,column:v,ajaxLoading:w,loadedContent:x,axis:y});if(t<s){t=s}if(u<v){u=v}e[s][v].id=b[r].id;r++}}}}}else{if(d.displace=="row"){e[0]=new Array;for(z=0;z<b.length;z++){var w=false;var x=true;if(d.ajaxLoading){w=true;x=false}if(!k){l=true;k=true}else{l=false}f.push({id:b[z].id,first:l,row:0,column:z,ajaxLoading:w,loadedContent:x,axis:d.axis});e[0].push({id:b[z].id,full:1});u++}}else if(d.displace=="column"){e=new Array;for(var z=0;z<b.length;z++){var w=false;var x=true;if(d.ajaxLoading){w=true;x=false}if(!k){l=true;k=true}else{l=false}f.push({id:b[z].id,first:l,row:z,column:0,ajaxLoading:w,loadedContent:x,axis:d.axis});e[t]=new Array;e[t][0]={id:b[z].id,full:1};t++}}}if("ontouchstart"in document.documentElement){if(q=="html,body"){document.addEventListener("touchstart",_,false)}else{document.getElementById(q.replace("#","")).addEventListener("touchstart",_,false)}}ba()}function W(b){if(typeof a("#"+b).parent().attr("class")!="undefined"&&a("#"+b).parent().attr("class").indexOf(H)>-1){if(typeof a("#"+b).parent().attr("id")=="undefined"){a("#"+b).parent().attr("id","internal_"+I++)}K=a("#"+b).parent().attr("id")}else{if(typeof a("#"+b).parent().attr("id")=="undefined"){a("#"+b).parent().attr("id","internal_"+I++)}W(a("#"+b).parent().attr("id"))}}function V(b,c,e,f){if(d.feedbackArrows){var g=null;var h=null;var i=null;if(b>e){h="left"}else if(b<e){h="right"}if(c>f){i="up"}else if(c<f){i="down"}if(i!=null){g=i}if(h!=null){if(g!=null){g+="_"+h}else{g=h}}if(g!=null){var j="img/"+g+"_arrow.png";a("#slidingSpacesNavigationFeedback").stop();a("#slidingSpacesNavigationFeedback").css({backgroundImage:"url("+j+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:"1","z-index":1e3});a("#slidingSpacesNavigationFeedback").show();a("#slidingSpacesNavigationFeedback").animate({opacity:"0","z-index":"-100"},1e3,function(){a("#slidingSpacesNavigationFeedback").hide()})}}}function U(b,c){var d=false;var e={id:null,column:-1,row:-1};a.each(f,function(a){if(!d){if(f[a].column==c&&f[a].row==b){e=f[a];d=true}}});return e}function T(b,c){var d=false;var e={id:null,row:-1,column:-1};a.each(f,function(a){if(!d){var g=f[a].row*c;var h=f[a].column*b;if(g==x&&h==v){e=f[a];d=true}}});return e}function S(b){var c=false;var d={id:null,column:-1,row:-1};a.each(f,function(a){if(!c){if(f[a].id==b){d=f[a];c=true}}});return d}function R(){a(q).append("<div id='slidingSpacesNavigationMap'></div>");var b=T(g,j).id;if(a.trim(M)!=""){anchor2=M.replace("#","");anchor2=anchor2.replace("!","");var c=S(anchor2);b=c.id}for(var d=0;d<e.length;d++){for(var f=0;f<e[d].length;f++){var h="";var i="";var k="";var l="slidingSpacesNavigationDot";if(e[d][f].full!=1){l="slidingSpacesNavigationDotEmpty"}else{if(e[d][f].id==b){var l="slidingSpacesNavigationDotActual"}else{if(!G){var h="href='#"+e[d][f].id+"'"}}}if(typeof e[d][f].id!="undefined"){i="id='slidingSpacesNavigationDot_"+e[d][f].id+"'"}if(typeof a("#"+e[d][f].id).attr("title")!="undefined"){k="title='"+a("#"+e[d][f].id).attr("title")+"'"}a("#slidingSpacesNavigationMap").append("<a "+i+" class='"+l+"' "+h+" "+k+"></a>")}a("#slidingSpacesNavigationMap").append("<br clear='all'/>")}a("#slidingSpacesNavigationMap").bind("mouseover",function(b){a("#slidingSpacesNavigationMap").stop();a("#slidingSpacesNavigationMap").animate({opacity:1},200)});a("#slidingSpacesNavigationMap").bind("mouseleave",function(b){a("#slidingSpacesNavigationMap").stop();a("#slidingSpacesNavigationMap").animate({opacity:.5},0)});bc()}function Q(b,c){b.preventDefault();a(q).stop();var e=S(c.attr("href").replace("#",""));var f=null;var h=null;var i=null;var k=p;var l=o;var r=T(g,j).axis;var s=e.column*g;var t=e.row*j;if(r=="xy"){V(o,null,e.column,null);a(q).animate({scrollLeft:s},d.time,d.easing,function(){V(null,k,null,e.row);a(q).animate({scrollTop:t},d.time,d.easing,function(){n=t;m=s;Y(e)})})}else if(r=="yx"){V(null,k,null,e.row);a(q).animate({scrollTop:t},d.time,d.easing,function(){V(l,null,e.column,null);a(q).animate({scrollLeft:s},d.time,d.easing,function(){n=t;m=s;Y(e)})})}else{V(l,k,e.column,e.row);a(q).animate({scrollTop:t,scrollLeft:s},d.time,d.easing,function(){n=t;m=s;Y(e)})}window.location.hash="#!"+e.id;o=e.column;p=e.row;v=s;x=t;if(d.createMap){bd(c.attr("href").replace("#",""))}}function P(){this.removeEventListener("touchmove",Z);y=null;z=null;C=false}var c={ajaxLoading:false,ajaxScript:"",axis:"",backGroundImageClass:"",container:"none",createLinks:false,createMap:false,displace:"row",easing:"linear",feedbackArrows:false,fullScreenBackground:false,linkClass:"",mapPosition:"bottom_right",preloadBackgroundImages:false,time:300};var d=a.extend({},c,b);var e=new Array;var f=new Array;var g=0;var j=0;var k=0;var l=0;var m=0;var n=0;var o=0;var p=0;var q="html,body";var r=-1e3;var s=0;var t=0;var u=0;var v=0;var x=0;var y=null;var z=null;var A=20;var B=20;var C=false;var D=0;var E=0;var F=0;var G=G();var H=this.selector.replace(".","");var I=0;var J=null;var K=null;var L=null;if(G){a("head").append('<meta name="viewport" id="vpFerroSlider" content="width=device-width, height=device-height, user-scalable=no, initial-scale='+1/window.devicePixelRatio+", minimum-scale = "+Math.round(1/window.devicePixelRatio*100)/100+", maximum-scale = "+Math.round(1/window.devicePixelRatio*100)/100+';"/>');if(screen.width>780||screen.height>1030){window.location.reload()}}X(this);if(G){a(q).css("overflow","auto")}x=n;v=m;window.scrollTo(0,0);window.scrollTo(m,n);a(document.body).append("<div id='slidingSpacesNavigationFeedback'></div>");a("#slidingSpacesNavigationFeedback").hide();a("#slidingSpacesNavigationFeedback").width(g);a("#slidingSpacesNavigationFeedback").height(j);a("#slidingSpacesNavigationFeedback").css({marginLeft:k,marginTop:l});var M=window.location.hash;if(a.trim(M)!=""){var N=S(M.replace("#!",""));o=N.column;p=N.row;window.location.hash=M.replace("!","")}if(d.createLinks){a(".slidingSpacesOuterDiv").each(function(b){var c=a(this);c.append("<div id='slidingSpacesNavigation_"+c.attr("id")+"' class='slidingSpacesNavigation'><ul></ul></div>");for(var d=0;d<f.length;d++){if(b!=d){if(a("#"+f[d].id).attr("title")!=""&&a("#"+f[d].id).attr("title")!=null){var e=a("#"+f[d].id).attr("title")}else{var e="Page "+d}a("#slidingSpacesNavigation_"+c.attr("id")+" ul").append("<li><a href='#"+f[d].id+"' class='slidingSpacesNavigationLink' >"+e+"</a></li>")}}})}if(d.createMap){R()}a(document).keydown(function(b){var c=b.keyCode||b.which;var e={left:37,up:38,right:39,down:40};var f=false;var h=null;var i=o;var k=p;switch(c){case e.left:b.preventDefault();if(o>0){var l=U(p,o-1);if(l.id!=null){o--;f=true}}break;case e.up:b.preventDefault();if(p>0){var l=U(p-1,o);if(l.id!=null){p--;f=true}}break;case e.right:b.preventDefault();if(o<u){var l=U(p,o+1);if(l.id!=null){o++;f=true}}break;case e.down:b.preventDefault();if(p<t){var l=U(p+1,o);if(l.id!=null){p++;f=true}}break}if(f){var m=l.column*g;var n=l.row*j;V(i,k,o,p);a(q).stop();a(q).animate({scrollTop:n,scrollLeft:m},d.time,d.easing,function(){a(q).stop();x=n;v=m;Y(l);a(q).animate({scrollTop:n,scrollLeft:m},0);window.location.hash="#!"+l.id});if(d.createMap){bd(l.id)}}});var O=".slidingSpacesNavigationLink, .slidingSpacesNavigationDot";if(a.trim(d.linkClass)!=""){var O=O+", ."+d.linkClass}a(O).each(function(b){var c=a(this);c.bind("click",function(a){Q(a,c)});c.bind("touchstart",function(a){Q(a,c)})});revMob=function(){var a=g;var b=j;bj();bf(a,b);if(d.createMap){bc()}};if(!G){a(window).resize(function(){bg()})}if("onorientationchange"in window){window.addEventListener("orientationchange",function(){if(window.orientation!==F){F=window.orientation;setTimeout(revMob,100)}},false)}}};a.fn.ferroSlider=function(a){return b.ferroSliderDesktop.call(this,a)}})(jQuery)
